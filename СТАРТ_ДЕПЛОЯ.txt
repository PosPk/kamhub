╔══════════════════════════════════════════════════════════════╗
║  🚀 KAMHUB - БЫСТРЫЙ СТАРТ ДЕПЛОЯ                           ║
║  Сервер: 147.45.158.166                                      ║
║  Статус: ✅ ГОТОВ К ДЕПЛОЮ                                  ║
╚══════════════════════════════════════════════════════════════╝

═══════════════════════════════════════════════════════════════
📋 ДАННЫЕ ДОСТУПА
═══════════════════════════════════════════════════════════════

IP:       147.45.158.166
User:     root
Password: eiGo@VK4.,,VH7
SSH:      ssh root@147.45.158.166

═══════════════════════════════════════════════════════════════
⚡ КОМАНДЫ ДЕПЛОЯ (3 ШАГА)
═══════════════════════════════════════════════════════════════

ШАГ 1: Подключиться к серверу
────────────────────────────────────────
ssh root@147.45.158.166
# Пароль: eiGo@VK4.,,VH7


ШАГ 2: Запустить автодеплой (10-15 минут)
────────────────────────────────────────
curl -o deploy.sh https://raw.githubusercontent.com/PosPk/kamhub/main/deploy-timeweb.sh
chmod +x deploy.sh
bash deploy.sh


ШАГ 3: Заполнить API ключи
────────────────────────────────────────
cd /var/www/kamchatour
nano .env

# Вставить минимальную конфигурацию:

DATABASE_URL=postgresql://kamuser:ПАРОЛЬ_ИЗ_СКРИПТА@localhost:5432/kamchatour
NODE_ENV=production
NEXT_PUBLIC_APP_URL=http://147.45.158.166:3002
YANDEX_MAPS_API_KEY=ваш_ключ
YANDEX_WEATHER_API_KEY=8f6b0a53-135f-4217-8de1-de98c1316cc0
GROQ_API_KEY=ваш_ключ
DEEPSEEK_API_KEY=ваш_ключ
JWT_SECRET=ваш_секрет
SESSION_SECRET=ваш_секрет

# Сохранить: Ctrl+O → Enter → Ctrl+X


ШАГ 4: Перезапустить
────────────────────────────────────────
pm2 restart kamchatour-hub


ШАГ 5: Проверить
────────────────────────────────────────
pm2 status
pm2 logs

# Открыть в браузере:
http://147.45.158.166

═══════════════════════════════════════════════════════════════
🔑 КАК ПОЛУЧИТЬ API КЛЮЧИ (все бесплатно, 25 минут)
═══════════════════════════════════════════════════════════════

1. Yandex Maps API (15 минут)
   https://developer.tech.yandex.ru/
   → Регистрация → API ключи → JavaScript API
   Лимит: 25,000 запросов/день

2. GROQ API (5 минут)
   https://console.groq.com/
   → Регистрация → API Keys → Create API Key
   Лимит: 14,400 запросов/день

3. DeepSeek API (5 минут)
   https://platform.deepseek.com/
   → Регистрация → API Keys
   Бонус: $5 бесплатно

4. JWT_SECRET (1 минута)
   На локальной машине:
   openssl rand -base64 32
   openssl rand -base64 32

═══════════════════════════════════════════════════════════════
⚡ ONE-LINER (всё одной командой)
═══════════════════════════════════════════════════════════════

ssh root@147.45.158.166 "curl -o deploy.sh https://raw.githubusercontent.com/PosPk/kamhub/main/deploy-timeweb.sh && chmod +x deploy.sh && bash deploy.sh"

После выполнения:
  ssh root@147.45.158.166
  cd /var/www/kamchatour
  nano .env
  pm2 restart kamchatour-hub

═══════════════════════════════════════════════════════════════
🔧 ПОЛЕЗНЫЕ КОМАНДЫ
═══════════════════════════════════════════════════════════════

PM2:
  pm2 status                    - статус
  pm2 logs kamchatour-hub       - логи
  pm2 restart kamchatour-hub    - перезапуск
  pm2 monit                     - мониторинг

Nginx:
  systemctl status nginx        - статус
  tail -f /var/log/nginx/kamchatour_access.log

База данных:
  sudo -u postgres psql -d kamchatour

═══════════════════════════════════════════════════════════════
⚠️ РЕШЕНИЕ ПРОБЛЕМ
═══════════════════════════════════════════════════════════════

PM2 показывает "errored":
  pm2 logs kamchatour-hub --lines 100
  # Проверить DATABASE_URL и API ключи в .env

Nginx показывает "502 Bad Gateway":
  pm2 restart kamchatour-hub
  pm2 logs

База данных не подключается:
  systemctl status postgresql
  systemctl start postgresql

═══════════════════════════════════════════════════════════════
✅ ЧЕКЛИСТ
═══════════════════════════════════════════════════════════════

☐ 1. Получить API ключи (25 минут)
☐ 2. Подключиться к серверу SSH
☐ 3. Запустить deploy-timeweb.sh
☐ 4. Заполнить .env
☐ 5. Перезапустить PM2
☐ 6. Проверить работу

═══════════════════════════════════════════════════════════════
📚 ДОКУМЕНТАЦИЯ
═══════════════════════════════════════════════════════════════

Полная инструкция:  ДЕПЛОЙ_НА_147.45.158.166.md (800+ строк)
Команды:            КОМАНДЫ_ДЕПЛОЯ.sh
Быстрый старт:      БЫСТРЫЙ_ДЕПЛОЙ_TIMEWEB.md

═══════════════════════════════════════════════════════════════

ГОТОВ К ДЕПЛОЮ! 🚀

Время деплоя: 40 минут (10 мин скрипт + 25 мин API ключи + 5 мин настройка)
Стоимость: ~700₽/мес

🏔️ KamHub - Создано для Камчатки с любовью! 🏔️
