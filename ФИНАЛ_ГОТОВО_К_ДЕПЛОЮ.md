# ‚úÖ –ê–î–ê–ü–¢–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê! Timeweb Cloud Ready!

**–î–∞—Ç–∞:** 30.10.2025  
**–°—Ç–∞—Ç—É—Å:** üü¢ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ Timeweb Cloud  
**–ë—ã–ª–æ:** Vercel + Edge Runtime  
**–°—Ç–∞–ª–æ:** Timeweb + Node.js VDS  

---

## üéâ –ß–¢–û –ò–ó–ú–ï–ù–ï–ù–û

### ‚úÖ 1. Edge Runtime ‚Üí Node.js
**–§–∞–π–ª:** `app/api/ai/route.ts`

**–ë—ã–ª–æ (—Ç–æ–ª—å–∫–æ Vercel):**
```typescript
export const runtime = 'edge'  // ‚ùå
```

**–°—Ç–∞–ª–æ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ):**
```typescript
export const runtime = 'nodejs'  // ‚úÖ
```

### ‚úÖ 2. –î–æ–±–∞–≤–ª–µ–Ω PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
**–§–∞–π–ª:** `ecosystem.config.js` (–Ω–æ–≤—ã–π!)

- Cluster mode (2 –ø—Ä–æ—Ü–µ—Å—Å–∞)
- Auto-restart –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- –õ–æ–≥–∏ –≤ `./logs/`
- Max memory: 1GB

### ‚úÖ 3. –î–æ–±–∞–≤–ª–µ–Ω .env.example
**–§–∞–π–ª:** `.env.example` (–Ω–æ–≤—ã–π!)

–ü–æ–ª–Ω—ã–π —à–∞–±–ª–æ–Ω –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è Timeweb Cloud

### ‚úÖ 4. –û–±–Ω–æ–≤–ª—ë–Ω auto-deploy —Å–∫—Ä–∏–ø—Ç
**–§–∞–π–ª:** `auto-deploy-kamchatour.sh`

–¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ecosystem.config.js` –¥–ª—è PM2

---

## üöÄ –¢–ï–ü–ï–†–¨ –ú–û–ñ–ù–û –î–ï–ü–õ–û–ò–¢–¨!

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å Timeweb (–ë–ï–ó –¥–æ—Å—Ç—É–ø–∞!)

**1. –û—Ç–∫—Ä–æ–π—Ç–µ:**
```
https://timeweb.cloud/my/servers/5898003
```

**2. –ù–∞–∂–º–∏—Ç–µ "–ö–æ–Ω—Å–æ–ª—å"**

**3. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:**
```bash
curl -sSL https://raw.githubusercontent.com/PosPk/kamhub/cursor/study-timeweb-cloud-documentation-thoroughly-72f9/auto-deploy-kamchatour.sh | bash
```

**–í–°–Å!** –ß–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –≥–æ—Ç–æ–≤–æ! ‚úÖ

---

### –°–ø–æ—Å–æ–± 2: –î–∞—Ç—å –º–Ω–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø

**–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —á—Ç–æ–±—ã —è —Å–¥–µ–ª–∞–ª –¥–µ–ø–ª–æ–π:**

#### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (—á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å):

```bash
# –°–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
adduser deploy_bot
echo "deploy_bot:temp12345" | chpasswd
usermod -aG sudo deploy_bot

# –†–∞–∑—Ä–µ—à–∏—Ç—å SSH –ø–æ –ø–∞—Ä–æ–ª—é (–≤—Ä–µ–º–µ–Ω–Ω–æ)
sed -i 's/PasswordAuthentication no/PasswordAuthentication yes/' /etc/ssh/sshd_config
sed -i 's/#PasswordAuthentication yes/PasswordAuthentication yes/' /etc/ssh/sshd_config
systemctl reload sshd
```

#### –î–∞–π—Ç–µ –º–Ω–µ:
```
–•–æ—Å—Ç: 45.8.96.120
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: deploy_bot
–ü–∞—Ä–æ–ª—å: temp12345
```

#### –Ø —Å–¥–µ–ª–∞—é –¥–µ–ø–ª–æ–π –∏ —Å–∫–∞–∂—É –∫–æ–≥–¥–∞ —É–¥–∞–ª–∏—Ç—å:
```bash
userdel -r deploy_bot
sed -i 's/PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config
systemctl reload sshd
```

---

## üìä –ò–¢–û–ì–ò –ê–î–ê–ü–¢–ê–¶–ò–ò

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | Vercel | Timeweb | –°—Ç–∞—Ç—É—Å |
|-----------|--------|---------|--------|
| Runtime | Edge + Node.js | Node.js | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| Process Manager | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π | PM2 | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ |
| Reverse Proxy | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π | Nginx | ‚úÖ –í —Å–∫—Ä–∏–ø—Ç–µ |
| SSL | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π | Certbot | üìã –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | Vercel Postgres | Timeweb Postgres | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| Storage | Vercel Blob | Timeweb S3 | ‚úÖ –°–æ–∑–¥–∞–Ω–æ |
| Firewall | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π | UFW | ‚úÖ –í —Å–∫—Ä–∏–ø—Ç–µ |

**–û–ë–©–ò–ô –°–¢–ê–¢–£–°:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ!

---

## üí∞ –°–¢–û–ò–ú–û–°–¢–¨

**–ë—ã–ª–æ (Vercel):**
- Free tier: $0/–º–µ—Å
- Pro tier: $20/–º–µ—Å
- Enterprise: $40+/–º–µ—Å

**–°—Ç–∞–ª–æ (Timeweb):**
- VDS: 301‚ÇΩ/–º–µ—Å (—É–∂–µ –µ—Å—Ç—å)
- PostgreSQL: 230‚ÇΩ/–º–µ—Å
- S3: 50‚ÇΩ/–º–µ—Å
- **–ò–¢–û–ì–û: ~581‚ÇΩ/–º–µ—Å (~$6)**

**–≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ Pro: $14/–º–µ—Å** üí∞

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –†–ê–ó–õ–ò–ß–ò–Ø

### –ù–∞ Vercel (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
- ‚úÖ –î–µ–ø–ª–æ–π –ø—Ä–∏ git push
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- ‚úÖ CDN –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ù–∞ Timeweb (–≤—Ä—É—á–Ω—É—é):
- ‚ö†Ô∏è –î–µ–ø–ª–æ–π: rsync –∏–ª–∏ git pull
- ‚ö†Ô∏è SSL: certbot
- ‚ö†Ô∏è CDN: nginx –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ö†Ô∏è –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ: —É–≤–µ–ª–∏—á–∏—Ç—å VDS
- ‚ö†Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: PM2 logs + Sentry

**–ù–æ –∑–∞—Ç–æ:** –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –¥–µ—à–µ–≤–ª–µ! üí™

---

## üéØ –ß–¢–û –î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–°

### –í–∞—Ä–∏–∞–Ω—Ç A: –Ø —Å–¥–µ–ª–∞—é (–Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
adduser deploy_bot
echo "deploy_bot:temp12345" | chpasswd
usermod -aG sudo deploy_bot
sed -i 's/PasswordAuthentication no/PasswordAuthentication yes/' /etc/ssh/sshd_config
systemctl reload sshd
```

–î–∞–π—Ç–µ –º–Ω–µ: `deploy_bot / temp12345`

### –í–∞—Ä–∏–∞–Ω—Ç B: –í—ã —Å–¥–µ–ª–∞–µ—Ç–µ (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å)

```
https://timeweb.cloud/my/servers/5898003
‚Üí –ö–æ–Ω—Å–æ–ª—å
‚Üí curl -sSL https://raw.githubusercontent.com/.../auto-deploy-kamchatour.sh | bash
```

---

## üìÇ –í–°–Å –í –†–ï–ü–û–ó–ò–¢–û–†–ò–ò

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

1. **[–ê–î–ê–ü–¢–ê–¶–ò–Ø_–ü–û–î_TIMEWEB.md](https://github.com/PosPk/kamhub/blob/cursor/.../–ê–î–ê–ü–¢–ê–¶–ò–Ø_–ü–û–î_TIMEWEB.md)** - —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

2. **[ecosystem.config.js](https://github.com/PosPk/kamhub/blob/cursor/.../ecosystem.config.js)** - PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

3. **[.env.example](https://github.com/PosPk/kamhub/blob/cursor/.../env.example)** - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

4. **[auto-deploy-kamchatour.sh](https://github.com/PosPk/kamhub/blob/cursor/.../auto-deploy-kamchatour.sh)** - –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

5. **[app/api/ai/route.ts](https://github.com/PosPk/kamhub/blob/cursor/.../app/api/ai/route.ts)** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω runtime

---

## üèÜ –ò–¢–û–ì–û

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω:**
- ‚úÖ Vercel ‚Üí Timeweb Cloud
- ‚úÖ Edge ‚Üí Node.js
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ ‚Üí PM2
- ‚úÖ –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ì–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é

**–û—Å—Ç–∞–ª–æ—Å—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å 1 –∫–æ–º–∞–Ω–¥—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!

---

**–î–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å - –Ω–∞ –≤–∞—à –≤—ã–±–æ—Ä!** üöÄ
