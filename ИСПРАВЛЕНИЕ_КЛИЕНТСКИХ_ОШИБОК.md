# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ö–õ–ò–ï–ù–¢–°–ö–ò–• –û–®–ò–ë–û–ö

**–î–∞—Ç–∞**: 2025-11-03  
**–ü—Ä–æ–±–ª–µ–º–∞**: "Application error: a client-side exception has occurred"

## üîç –ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∏–∑-–∑–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `localStorage` –≤–æ –≤—Ä–µ–º—è Server-Side Rendering (SSR). –í Next.js –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å `'use client'` –≤—Å–µ —Ä–∞–≤–Ω–æ –º–æ–≥—É—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∏ –¥–æ—Å—Ç—É–ø –∫ `localStorage` –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É `localStorage is not defined`.

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **AuthContext.tsx**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `typeof window === 'undefined'` –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏ –∫ `localStorage`
- –í `loadUserFromStorage()`: —Ä–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥ –µ—Å–ª–∏ `window` –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
- –í `saveUserToStorage()`: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

### 2. **RoleContext.tsx**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `typeof window === 'undefined'` –≤ `loadRoles()`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ `useEffect` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–æ–ª–µ–π

### 3. **OrdersContext.tsx**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `typeof window === 'undefined'` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∑–∞–∫–∞–∑–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–æ–≤

### 4. **EcoPointsWidget.tsx**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `typeof window === 'undefined'` –≤ `getCurrentPosition()` –¥–ª—è `navigator.geolocation`

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º–∏ API (`localStorage`, `navigator`, `window`), —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è—é—Ç:

```typescript
if (typeof window === 'undefined') {
  // –†–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥ –ø—Ä–∏ SSR
  return;
}
```

## üöÄ –î–µ–ø–ª–æ–π

1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
2. –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. –ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω
4. PM2 –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è SSR
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8080

## üîó –ü—Ä–æ–≤–µ—Ä–∫–∞

- **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø**: `http://5.129.248.224:8080`
- **–ß–µ—Ä–µ–∑ Nginx**: `http://5.129.248.224`

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
