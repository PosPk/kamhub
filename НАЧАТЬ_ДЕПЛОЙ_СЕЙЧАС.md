# üöÄ –ö–û–î –í GITHUB - –ù–ê–ß–ò–ù–ê–ï–ú –î–ï–ü–õ–û–ô

> **–°—Ç–∞—Ç—É—Å:** ‚úÖ Git push —É—Å–ø–µ—à–µ–Ω!  
> **GitHub:** https://github.com/PosPk/kamhub  
> **Timeweb Apps:** https://timeweb.cloud/my/apps/125051

---

## ‚úÖ –ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û

```
‚úÖ –ö–æ–¥ –≤ GitHub (—á–∏—Å—Ç—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–µ–∑ core)
‚úÖ Build –ø—Ä–æ–≤–µ—Ä–µ–Ω (—É—Å–ø–µ—à–µ–Ω)
‚úÖ Security –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ (9/10)
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
‚úÖ –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ –º–µ—Å—Ç–µ
```

---

## üéØ –ß–¢–û –î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–° (10 –º–∏–Ω—É—Ç)

### –®–ê–ì 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (2 –º–∏–Ω—É—Ç—ã)

**–û—Ç–∫—Ä—ã—Ç—å:** https://timeweb.cloud/my/apps/125051

**Settings ‚Üí Repository:**

```
Repository URL: https://github.com/PosPk/kamhub
Branch: main
Auto Deploy: ‚úì ON
```

**Save**

---

### –®–ê–ì 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Build (1 –º–∏–Ω—É—Ç–∞)

**Settings ‚Üí Build & Deploy:**

```yaml
Framework: Next.js

Build Command:
  npm install && npm run build

Start Command:
  npm start

Node Version: 20.x

Root Directory: /

Output Directory: .next

Install Command:
  npm install
```

**Save**

---

### –®–ê–ì 3: –°–æ–∑–¥–∞—Ç—å PostgreSQL (2 –º–∏–Ω—É—Ç—ã)

**Timeweb Cloud ‚Üí Databases ‚Üí Create**

```
–¢–∏–ø: PostgreSQL
–ü–ª–∞–Ω: PostgreSQL-2 (300‚ÇΩ/–º–µ—Å)
–ò–º—è: kamchatour-db
–í–µ—Ä—Å–∏—è: 15
–†–µ–≥–∏–æ–Ω: –õ—é–±–æ–π
```

**Create**

**–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å CONNECTION STRING –∏–∑ email –∏–ª–∏ dashboard:**
```
postgresql://user:password@host:5432/database
```

---

### –®–ê–ì 4: –î–æ–±–∞–≤–∏—Ç—å Environment Variables (3 –º–∏–Ω—É—Ç—ã)

**Settings ‚Üí Environment Variables**

**–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å JWT_SECRET:**

```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
openssl rand -base64 32
```

**–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

```env
# Database
DATABASE_URL=<–≤–∞—à_connection_string_–∏–∑_—à–∞–≥–∞_3>
DATABASE_SSL=true
DATABASE_MAX_CONNECTIONS=20

# Security
JWT_SECRET=<—Ä–µ–∑—É–ª—å—Ç–∞—Ç_openssl_rand>
JWT_EXPIRES_IN=7d

# Application
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://kamchatour-125051.timeweb.cloud
PORT=3000
```

**Save ‚Üí Restart Application**

---

### –®–ê–ì 5: –ó–∞–ø—É—Å—Ç–∏—Ç—å Deploy (1 –º–∏–Ω—É—Ç–∞)

**Deployments ‚Üí Trigger Deploy**

–ò–ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è (–µ—Å–ª–∏ Auto Deploy ON)

**–°–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º:**
- Deployments ‚Üí Latest Deploy ‚Üí View Logs
- –û–∂–∏–¥–∞–Ω–∏–µ: ~3-5 –º–∏–Ω—É—Ç

---

### –®–ê–ì 6: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (2 –º–∏–Ω—É—Ç—ã)

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:**

**Terminal –≤ Timeweb Cloud Apps:**

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npm run migrate:up

# PostgreSQL —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
psql $DATABASE_URL -c "CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";"
psql $DATABASE_URL -c "CREATE EXTENSION IF NOT EXISTS postgis;"

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
psql $DATABASE_URL -f lib/database/seat_holds_schema.sql
```

---

### –®–ê–ì 7: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (1 –º–∏–Ω—É—Ç–∞)

**–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**

```
https://kamchatour-125051.timeweb.cloud
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API:**

```bash
curl https://kamchatour-125051.timeweb.cloud/api/health
curl https://kamchatour-125051.timeweb.cloud/api/health/db
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{"success":true,"status":"healthy"}
{"success":true,"database":"connected","tables":24}
```

---

## ‚úÖ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

```
‚úÖ –ö–æ–¥ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Timeweb Cloud Apps
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∞–∫—Ç–∏–≤–µ–Ω (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ:**
- https://kamchatour-125051.timeweb.cloud

---

## üîß –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò

### –î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏ (–ø–æ–∑–∂–µ):

```env
GROQ_API_KEY=gsk_...              # –¥–ª—è AI —á–∞—Ç–∞
CLOUDPAYMENTS_PUBLIC_ID=pk_...    # –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
CLOUDPAYMENTS_API_SECRET=...
YANDEX_MAPS_API_KEY=...           # –¥–ª—è –∫–∞—Ä—Ç
SENTRY_DSN=https://...@sentry.io/...  # –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```

### –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω:

1. **Timeweb Cloud ‚Üí –î–æ–º–µ–Ω—ã ‚Üí –î–æ–±–∞–≤–∏—Ç—å**
2. **DNS –∑–∞–ø–∏—Å–∏:**
   ```
   A    @    ‚Üí IP –∏–∑ Timeweb Apps
   A    www  ‚Üí IP –∏–∑ Timeweb Apps
   ```
3. **–í Apps:** Settings ‚Üí Domains ‚Üí Attach
4. **SSL:** –Ω–∞—Å—Ç—Ä–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üÜò –ü–†–û–ë–õ–ï–ú–´?

### "Build failed"

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –õ–æ–≥–∏ –≤ Deployments ‚Üí Latest ‚Üí Logs
- Environment Variables –≤—Å–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- Node Version = 20.x

### "Database connection error"

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- PostgreSQL —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- Extensions —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```bash
psql $DATABASE_URL -c "SELECT 1;"
```

### "502 Bad Gateway"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- PORT=3000 –≤ environment variables
- Start Command = npm start

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

**Timeweb Cloud:**
- Dashboard: https://timeweb.cloud/my/apps/125051
- Docs: https://timeweb.cloud/help/
- Support: support@timeweb.ru

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:**
- TIMEWEB_APPS_–î–ï–ü–õ–û–ô.md
- TIMEWEB_SECRETS_SETUP.md

---

## üéâ –ò–¢–û–ì

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                                                   ‚ïë
‚ïë  ‚úÖ –ö–û–î –í GITHUB                                 ‚ïë
‚ïë  ‚è≥ –û–°–¢–ê–õ–û–°–¨: 10 –ú–ò–ù–£–¢ –ù–ê–°–¢–†–û–ô–ö–ò                 ‚ïë
‚ïë  üéØ –†–ï–ó–£–õ–¨–¢–ê–¢: –†–ê–ë–û–¢–ê–Æ–©–ï–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï             ‚ïë
‚ïë                                                   ‚ïë
‚ïë  –°–ª–µ–¥—É–π—Ç–µ 7 —à–∞–≥–∞–º –≤—ã—à–µ ‚Üí                         ‚ïë
‚ïë                                                   ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

**–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –®–∞–≥–∞ 1!** üöÄ

---

**–ê–≤—Ç–æ—Ä:** Cursor AI Agent  
**–î–∞—Ç–∞:** 30 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** Code deployed to GitHub ‚úÖ
