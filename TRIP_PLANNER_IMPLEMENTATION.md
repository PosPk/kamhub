# üó∫Ô∏è –°–ò–°–¢–ï–ú–ê –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–Ø –ü–£–¢–ï–®–ï–°–¢–í–ò–ô - –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

## üìã –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–µ–∑–¥–æ–∫ –Ω–∞ –ö–∞–º—á–∞—Ç–∫—É** —Å AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –º–∞—Ä—à—Ä—É—Ç–æ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–¥–±–æ—Ä–æ–º —Ç—É—Ä–æ–≤, —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤.

---

## ‚úÖ –ß–¢–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### 1. üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

#### –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:

**`accommodations`** - –†–∞–∑–º–µ—â–µ–Ω–∏–µ (–æ—Ç–µ–ª–∏, —Ö–æ—Å—Ç–µ–ª—ã, –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã)
- –¢–∏–ø—ã: hotel, hostel, apartment, guesthouse, resort, camping, glamping, cottage
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: –∑–≤–µ–∑–¥–Ω–æ—Å—Ç—å, –∫–æ–ª-–≤–æ –Ω–æ–º–µ—Ä–æ–≤, –≤—Ä–µ–º—è –∑–∞–µ–∑–¥–∞/–≤—ã–µ–∑–¥–∞
- –£–¥–æ–±—Å—Ç–≤–∞: wifi, parking, breakfast, spa, pool, gym, restaurant, bar, pets
- –¶–µ–Ω—ã: –æ—Ç-–¥–æ –∑–∞ –Ω–æ—á—å
- –†–µ–π—Ç–∏–Ω–≥ –∏ –æ—Ç–∑—ã–≤—ã
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è (coordinates JSONB)

**`accommodation_rooms`** - –ù–æ–º–µ—Ä–∞
- –¢–∏–ø—ã: single, double, twin, triple, suite, family, dormitory
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫—Ä–æ–≤–∞—Ç–µ–π
- –ü–ª–æ—â–∞–¥—å, –º–∞–∫—Å. –≥–æ—Å—Ç–µ–π
- –í–∏–¥ –∏–∑ –æ–∫–Ω–∞: mountain, sea, volcano, city, garden
- –¶–µ–Ω–∞ –∑–∞ –Ω–æ—á—å, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

**`accommodation_bookings`** - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–∞—Ç—ã –∑–∞–µ–∑–¥–∞/–≤—ã–µ–∑–¥–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ—á–µ–π
- –ö–æ–ª-–≤–æ –≤–∑—Ä–æ—Å–ª—ã—Ö –∏ –¥–µ—Ç–µ–π
- –°—Ç–∞—Ç—É—Å—ã: pending, confirmed, cancelled, completed, no_show
- –ü–ª–∞—Ç–µ–∂–∏: pending, paid, refunded, partially_refunded
- –û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è

**`accommodation_reviews`** - –û—Ç–∑—ã–≤—ã
- –†–µ–π—Ç–∏–Ω–≥–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º: —á–∏—Å—Ç–æ—Ç–∞, —Å–µ—Ä–≤–∏—Å, –ª–æ–∫–∞—Ü–∏—è, —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ
- –û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–æ—á–µ–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –æ—Ç–∑—ã–≤–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `updated_at`

üìÑ **–§–∞–π–ª**: `/lib/database/accommodation_schema.sql`

---

### 2. ü§ñ AI –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤

#### API Endpoint: `POST /api/trip/plan`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**

1. **–ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** —á–µ—Ä–µ–∑ AI:
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ (–≤—É–ª–∫–∞–Ω—ã, –º–µ–¥–≤–µ–¥–∏, —Ä—ã–±–∞–ª–∫–∞, —Ç–µ—Ä–º–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏)
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Ñ–∏–∑. –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ (easy, medium, hard)
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ (–æ–¥–∏–Ω–æ—á–∫–∞, –ø–∞—Ä–∞, —Å–µ–º—å—è, –≥—Ä—É–ø–ø–∞)
   - –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ (adventure, comfort, budget, ecology, photography)

2. **–ü–æ–¥–±–æ—Ä —Ç—É—Ä–æ–≤ –∏–∑ –ë–î**:
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —Ä–µ–π—Ç–∏–Ω–≥—É (‚â•3.5), —Ü–µ–Ω–µ
   - –£—á–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—É—Ä–æ–≤
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –∏ –∫–æ–ª-–≤—É –æ—Ç–∑—ã–≤–æ–≤
   - –ú–∞–∫—Å–∏–º—É–º 15 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

3. **–ü–æ–¥–±–æ—Ä —Ä–∞–∑–º–µ—â–µ–Ω–∏—è**:
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–µ –∑–∞ –Ω–æ—á—å, —Ä–µ–π—Ç–∏–Ω–≥—É (‚â•3.5)
   - –£—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –≥—Ä—É–ø–ø—ã
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: —Ä–µ–π—Ç–∏–Ω–≥ DESC, —Ü–µ–Ω–∞ ASC
   - –ú–∞–∫—Å–∏–º—É–º 10 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

4. **–ü–æ–¥–±–æ—Ä —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤**:
   - –ú–∞—Ä—à—Ä—É—Ç—ã –º–µ–∂–¥—É –ª–æ–∫–∞—Ü–∏—è–º–∏ —Ç—É—Ä–æ–≤
   - –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π –∏ –≤—Ä–µ–º–µ–Ω–∏
   - –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
   - –£—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏

5. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞** —á–µ—Ä–µ–∑ AI:
   - –ü–æ–º–∏–Ω—É—Ç–Ω—ã–π –ø–ª–∞–Ω –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
   - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞ (tour, transfer, free_time, meal)
   - **–õ–æ–≥–∏—Å—Ç–∏–∫–∞ –º–µ–∂–¥—É –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–æ–π:**
     - –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (walk, car, bus, taxi, transfer, helicopter)
     - –í—Ä–µ–º—è –≤ –ø—É—Ç–∏ (–º–∏–Ω—É—Ç—ã)
     - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–∫–º)
     - –ó–∞–º–µ—Ç–∫–∏
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ –∫–∞–∂–¥—É—é –Ω–æ—á—å
   - –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ –¥–Ω—è–º
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "query": "–Ø –ø–ª–∞–Ω–∏—Ä—É—é –ø–æ–µ–∑–¥–∫—É –Ω–∞ –ö–ê–ú–ß–ê–¢–ö–£ –Ω–∞ 7 –¥–Ω–µ–π. –°–æ—Å—Ç–∞–≤—å –¥–ª—è –º–µ–Ω—è –¥–µ—Ç–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç. –ü–æ–¥–±–µ—Ä–∏ –º–µ—Å—Ç–æ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è. –£–∫–∞–∂–∏ –Ω–µ —Ç–æ–ª—å–∫–æ —Ç—É—Ä—ã –∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∂–µ –ª–æ–≥–∏—Å—Ç–∏–∫—É –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ (–ø–µ—à–∫–æ–º/—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç)",
  "days": 7,
  "budget": 100000,
  "interests": ["hiking", "wildlife", "photography"],
  "groupSize": 2,
  "startDate": "2025-07-15"
}
```

**–û—Ç–≤–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç:**
- `summary` - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–¥–Ω–∏, —Å—Ç–æ–∏–º–æ—Å—Ç—å, highlights, —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)
- `days[]` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è —Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–æ–π
- `tours[]` - –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ç—É—Ä–æ–≤ –∏–∑ –ë–î
- `accommodations[]` - –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- `transfers[]` - –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤
- `recommendations[]` - –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã
- `important_notes[]` - –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

üìÑ **–§–∞–π–ª**: `/app/api/trip/plan/route.ts`

---

### 3. üìç –ú–æ–¥—É–ª—å —Ä–∞—Å—á–µ—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏

#### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞: `/lib/trip-planner/logistics.ts`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

1. **–†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π (Haversine formula)**:
   - –¢–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø–æ —Å—Ñ–µ—Ä–µ –ó–µ–º–ª–∏
   - –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 0.1 –∫–º

2. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞**:

| –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç | –£—Å–ª–æ–≤–∏—è | –°–∫–æ—Ä–æ—Å—Ç—å | –°—Ç–æ–∏–º–æ—Å—Ç—å | Feasibility |
|-----------|---------|----------|-----------|-------------|
| –ü–µ—à–∫–æ–º | ‚â§2–∫–º (–≥–æ—Ä–æ–¥), ‚â§5–∫–º (–ø—Ä–∏—Ä–æ–¥–∞) | 3-4 –∫–º/—á | 0‚ÇΩ | easy/moderate |
| –ê–≤—Ç–æ–±—É—Å | –¢–æ–ª—å–∫–æ –≥–æ—Ä–æ–¥, >2–∫–º | ~20 –∫–º/—á | 30‚ÇΩ | easy |
| –¢–∞–∫—Å–∏ | ‚â•1–∫–º | ~25 –∫–º/—á | 200‚ÇΩ+50‚ÇΩ/–∫–º | easy |
| –¢—Ä–∞–Ω—Å—Ñ–µ—Ä | ‚â•10–∫–º | ~30 –∫–º/—á | 100‚ÇΩ/–∫–º | easy |
| –õ–∏—á–Ω—ã–π –∞–≤—Ç–æ | ‚â•5–∫–º | ~30 –∫–º/—á | 15‚ÇΩ/–∫–º | easy/moderate |
| –í–µ—Ä—Ç–æ–ª–µ—Ç | ‚â•50–∫–º (–≥–æ—Ä—ã) | ~120 –∫–º/—á | 1000‚ÇΩ/–∫–º | moderate |

3. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤**:
   - –£—á–µ—Ç —Ç–∏–ø–∞ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏ (city, mountain, mixed)
   - –ù–∞–ª–∏—á–∏–µ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
   - –ë—é–¥–∂–µ—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
   - –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É

4. **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
   - –†–∞—Å—á–µ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞
   - –†–∞—Å—á–µ—Ç –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—É—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–¥–Ω–æ–¥–Ω–µ–≤–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
   - –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–π –∏–∑–≤–µ—Å—Ç–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π

**–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –ö–∞–º—á–∞—Ç–∫–∏:**
- –ê—ç—Ä–æ–ø–æ—Ä—Ç –ï–ª–∏–∑–æ–≤–æ
- –¶–µ–Ω—Ç—Ä –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–∞
- –ê–≤–∞—á–∏–Ω—Å–∫–∏–π –≤—É–ª–∫–∞–Ω
- –ö–æ—Ä—è–∫—Å–∫–∏–π –≤—É–ª–∫–∞–Ω
- –ü–∞—Ä–∞—Ç—É–Ω–∫–∞ (—Ç–µ—Ä–º–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏)
- –•–∞–ª–∞–∫—Ç—ã—Ä—Å–∫–∏–π –ø–ª—è–∂
- –í–∏–ª—é—á–∏–Ω—Å–∫–∏–π –ø–µ—Ä–µ–≤–∞–ª

---

### 4. üîß –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î

#### –°–∫—Ä–∏–ø—Ç: `scripts/migrate-accommodation.ts`

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã accommodation –∫ –ë–î
- –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü, –∏–Ω–¥–µ–∫—Å–æ–≤, —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```bash
# –ú–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
npm run migrate:accommodation

# –ú–∏–≥—Ä–∞—Ü–∏—è —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run migrate:accommodation:seed
```

**–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∫–ª—é—á–∞—é—Ç:**
- 1 –ø–∞—Ä—Ç–Ω—ë—Ä (–≥–æ—Å—Ç–∏–Ω–∏—Ü–∞ "–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫")
- 1 —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ (3 –∑–≤–µ–∑–¥—ã, 50 –Ω–æ–º–µ—Ä–æ–≤)
- 3 —Ç–∏–ø–∞ –Ω–æ–º–µ—Ä–æ–≤ (–æ–¥–Ω–æ–º–µ—Å—Ç–Ω—ã–π, –¥–≤—É—Ö–º–µ—Å—Ç–Ω—ã–π, –ª—é–∫—Å)

---

### 5. üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### `/docs/TRIP_PLANNER_API.md`

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
- –û–ø–∏—Å–∞–Ω–∏–µ API endpoint
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –õ–æ–≥–∏–∫–∞ –ø–æ–¥–±–æ—Ä–∞ —Ç—É—Ä–æ–≤, —Ä–∞–∑–º–µ—â–µ–Ω–∏—è, —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤
- –†–∞—Å—á–µ—Ç –ª–æ–≥–∏—Å—Ç–∏–∫–∏ (—Ñ–æ—Ä–º—É–ª—ã, —Ç–∞–±–ª–∏—Ü—ã)
- AI –ø—Ä–æ–º–ø—Ç—ã
- –°—Ö–µ–º—É –ë–î
- –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (React)
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

---

## üéØ –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –ó–∞–ø—Ä–æ—Å 1: –ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö –Ω–∞ 5 –¥–Ω–µ–π

```bash
curl -X POST https://kamhub.com/api/trip/plan \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–•–æ—á—É –∞–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö –Ω–∞ 5 –¥–Ω–µ–π. –í–æ—Å—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–∞ –≤—É–ª–∫–∞–Ω—ã, —Ä—ã–±–∞–ª–∫–∞, —Ç–µ—Ä–º–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.",
    "days": 5,
    "budget": 60000,
    "interests": ["hiking", "fishing", "nature"]
  }'
```

### –ó–∞–ø—Ä–æ—Å 2: –°–µ–º–µ–π–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞

```bash
curl -X POST https://kamhub.com/api/trip/plan \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–ü–ª–∞–Ω–∏—Ä—É–µ–º —Å–µ–º–µ–π–Ω—É—é –ø–æ–µ–∑–¥–∫—É —Å –¥–µ—Ç—å–º–∏ 7 –∏ 10 –ª–µ—Ç –Ω–∞ –Ω–µ–¥–µ–ª—é. –ù—É–∂–Ω—ã –Ω–µ—Å–ª–æ–∂–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–µ –∂–∏–ª—å–µ.",
    "days": 7,
    "groupSize": 4,
    "interests": ["family", "nature", "easy_hiking"]
  }'
```

### –ó–∞–ø—Ä–æ—Å 3: –§–æ—Ç–æ-—Ç—É—Ä

```bash
curl -X POST https://kamhub.com/api/trip/plan \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–Ø —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ. –•–æ—á—É —Å–Ω—è—Ç—å –≤—É–ª–∫–∞–Ω—ã, –º–µ–¥–≤–µ–¥–µ–π, –ø—Ä–∏—Ä–æ–¥—É –ö–∞–º—á–∞—Ç–∫–∏ –∑–∞ 10 –¥–Ω–µ–π.",
    "days": 10,
    "budget": 150000,
    "interests": ["photography", "wildlife", "nature", "volcanoes"]
  }'
```

---

## üöÄ –ó–ê–ü–£–°–ö –ò –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
npm run migrate:accommodation:seed
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î

```bash
npm run db:info
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

### 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API

```bash
curl -X POST http://localhost:3002/api/trip/plan \
  -H "Content-Type: application/json" \
  -d '{"query": "–ü–æ–µ–∑–¥–∫–∞ –Ω–∞ 3 –¥–Ω—è", "days": 3}'
```

---

## üìä –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨                          ‚îÇ
‚îÇ  "–Ø –ø–ª–∞–Ω–∏—Ä—É—é –ø–æ–µ–∑–¥–∫—É –Ω–∞ –ö–∞–º—á–∞—Ç–∫—É –Ω–∞ 7 –¥–Ω–µ–π..."             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              POST /api/trip/plan                             ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  1. –ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞ (AI) ‚Üí –∏–Ω—Ç–µ—Ä–µ—Å—ã, —É—Ä–æ–≤–µ–Ω—å, —Ç–∏–ø           ‚îÇ
‚îÇ  2. –ü–æ–¥–±–æ—Ä —Ç—É—Ä–æ–≤ (–ë–î) ‚Üí rating, difficulty, price           ‚îÇ
‚îÇ  3. –ü–æ–¥–±–æ—Ä —Ä–∞–∑–º–µ—â–µ–Ω–∏—è (–ë–î) ‚Üí type, price, amenities         ‚îÇ
‚îÇ  4. –ü–æ–¥–±–æ—Ä —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤ (–ë–î) ‚Üí routes, vehicles               ‚îÇ
‚îÇ  5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–∞ (AI) ‚Üí –¥–µ—Ç–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ               ‚îÇ               ‚îÇ
         ‚ñº               ‚ñº               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   TOURS    ‚îÇ  ‚îÇ ACCOMMODATIONS‚îÇ  ‚îÇ  TRANSFERS   ‚îÇ
‚îÇ   TABLE    ‚îÇ  ‚îÇ    TABLES     ‚îÇ  ‚îÇ    TABLES    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ               ‚îÇ               ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              LOGISTICS CALCULATION                           ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  ‚Ä¢ Haversine distance formula                               ‚îÇ
‚îÇ  ‚Ä¢ Transport type determination                             ‚îÇ
‚îÇ  ‚Ä¢ Cost & time estimation                                   ‚îÇ
‚îÇ  ‚Ä¢ Route feasibility check                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    AI GROQ/DeepSeek                          ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  Prompt: "–°–æ–∑–¥–∞–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –Ω–∞ N –¥–Ω–µ–π —Å:                ‚îÇ
‚îÇ   - –ü–æ–º–∏–Ω—É—Ç–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º                                  ‚îÇ
‚îÇ   - –õ–æ–≥–∏—Å—Ç–∏–∫–æ–π –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏                                ‚îÇ
‚îÇ   - ID –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ –ë–î                                       ‚îÇ
‚îÇ   - –í—Ä–µ–º–µ–Ω–µ–º –Ω–∞ –æ—Ç–¥—ã—Ö"                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    TRIP PLAN (JSON)                          ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  ‚Ä¢ summary: {days, cost, highlights, difficulty}            ‚îÇ
‚îÇ  ‚Ä¢ days[]: {activities[], accommodation, total_cost}        ‚îÇ
‚îÇ  ‚Ä¢ tours[], accommodations[], transfers[]                   ‚îÇ
‚îÇ  ‚Ä¢ recommendations[], important_notes[]                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîß –¢–ï–•–ù–û–õ–û–ì–ò–ò

- **Backend**: Next.js 14 API Routes, TypeScript
- **AI**: GROQ (Llama 3.1-70B), DeepSeek (fallback)
- **Database**: PostgreSQL + PostGIS
- **Libraries**: 
  - `pg` –¥–ª—è –ë–î
  - Haversine formula –¥–ª—è –≥–µ–æ—Ä–∞—Å—á–µ—Ç–æ–≤
  - Custom logistics engine

---

## ‚ö° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞**: 5-15 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø–ª–∞–Ω–∞ –Ω–∞ 7 –¥–Ω–µ–π
- **AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ GROQ ‚Üí DeepSeek
- **Max duration**: 60 —Å–µ–∫—É–Ω–¥ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢—É—Ä—ã –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### –ß–¢–û –£–ú–ï–ï–¢ –°–ò–°–¢–ï–ú–ê:

‚úÖ **–ü–æ–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ**
- "–Ø –ø–ª–∞–Ω–∏—Ä—É—é –ø–æ–µ–∑–¥–∫—É –Ω–∞ 5 –¥–Ω–µ–π. –•–æ—á—É –≤—É–ª–∫–∞–Ω—ã –∏ –º–µ–¥–≤–µ–¥–µ–π"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è, –∏–Ω—Ç–µ—Ä–µ—Å—ã, –±—é–¥–∂–µ—Ç

‚úÖ **–ü–æ–¥–±–∏—Ä–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–∑ –ë–î**
- –¢—É—Ä—ã (15 –ª—É—á—à–∏—Ö –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ (10 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø–æ —Ü–µ–Ω–µ –∏ –∫–∞—á–µ—Å—Ç–≤—É)
- –¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã (20 –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å —Ä–∞—Å—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏/—Å—Ç–æ–∏–º–æ—Å—Ç–∏)

‚úÖ **–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω**
- –ü–æ–º–∏–Ω—É—Ç–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- **–õ–æ–≥–∏—Å—Ç–∏–∫–∞ –º–µ–∂–¥—É –ö–ê–ñ–î–û–ô —Ç–æ—á–∫–æ–π:**
  - –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (–ø–µ—à–∫–æ–º/—Ç–∞–∫—Å–∏/—Ç—Ä–∞–Ω—Å—Ñ–µ—Ä/–≤–µ—Ä—Ç–æ–ª–µ—Ç)
  - –í—Ä–µ–º—è –≤ –ø—É—Ç–∏ (–º–∏–Ω)
  - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–∫–º)
  - –°—Ç–æ–∏–º–æ—Å—Ç—å
  - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—Ç–∫–∏

‚úÖ **–†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å**
- –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏
- –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –¥–Ω—è–º
- –£—á–µ—Ç —Ç—É—Ä–æ–≤, –∂–∏–ª—å—è, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

‚úÖ **–î–∞–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã (–æ–¥–µ–∂–¥–∞, —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ)
- –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –º–µ–¥–≤–µ–¥–∏)
- –£—á–µ—Ç –ø–æ–≥–æ–¥—ã –ö–∞–º—á–∞—Ç–∫–∏

---

## üìù –§–ê–ô–õ–´

```
/workspace/
‚îú‚îÄ‚îÄ app/api/trip/plan/route.ts          # –ì–ª–∞–≤–Ω—ã–π API endpoint
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ accommodation_schema.sql     # –°—Ö–µ–º–∞ –ë–î —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ trip-planner/
‚îÇ       ‚îî‚îÄ‚îÄ logistics.ts                 # –ú–æ–¥—É–ª—å —Ä–∞—Å—á–µ—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ migrate-accommodation.ts         # –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ TRIP_PLANNER_API.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
‚îú‚îÄ‚îÄ package.json                         # –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ TRIP_PLANNER_IMPLEMENTATION.md      # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üéâ –ò–¢–û–ì–û

**–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –Ω–∞ –ö–∞–º—á–∞—Ç–∫—É:**

1. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è (4 —Ç–∞–±–ª–∏—Ü—ã + —Ç—Ä–∏–≥–≥–µ—Ä—ã)
2. ‚úÖ API endpoint —Å AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –º–∞—Ä—à—Ä—É—Ç–æ–≤
3. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–±–æ—Ä–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ (—Ç—É—Ä—ã, –æ—Ç–µ–ª–∏, —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä—ã)
4. ‚úÖ –ú–æ–¥—É–ª—å —Ä–∞—Å—á–µ—Ç–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ (Haversine, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, —Å—Ç–æ–∏–º–æ—Å—Ç—å)
5. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
6. ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ! üöÄ**

---

**–î–∞—Ç–∞**: 30.10.2025  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è**: Kamchatour Hub üåã
