"use strict";(()=>{var e={};e.id=844,e.ids=[844],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2612:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>l,patchFetch:()=>m,requestAsyncStorage:()=>u,routeModule:()=>p,serverHooks:()=>d,staticGenerationAsyncStorage:()=>c});var o={};r.r(o),r.d(o,{POST:()=>i});var s=r(3278),a=r(5002),n=r(4877);async function i(e){try{let{model:t,prompt:r}=await e.json();if(!r)return new Response(JSON.stringify({error:"prompt required"}),{status:400});let o=process.env.OPENROUTER_API_KEY||process.env.GROQ_API_KEY;if(!o)return new Response(JSON.stringify({error:"AI key missing"}),{status:500});let s=process.env.OPENROUTER_API_KEY?"https://openrouter.ai/api/v1/chat/completions":"https://api.groq.com/openai/v1/chat/completions",a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({model:t||"llama-3.1-70b",messages:[{role:"system",content:"Ты ai.Kam — помоги составить маршрут по Камчатке кратко и по делу."},{role:"user",content:r}],temperature:.4,max_tokens:600})}),n=await a.json(),i=n?.choices?.[0]?.message?.content||"";return new Response(JSON.stringify({itinerary:i}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return new Response(JSON.stringify({error:e?.message||"failed"}),{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/ai/groq/route",pathname:"/api/ai/groq",filename:"route",bundlePath:"app/api/ai/groq/route"},resolvedPagePath:"/workspace/app/api/ai/groq/route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:u,staticGenerationAsyncStorage:c,serverHooks:d}=p,l="/api/ai/groq/route";function m(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:c})}},3278:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[379],()=>r(2612));module.exports=o})();