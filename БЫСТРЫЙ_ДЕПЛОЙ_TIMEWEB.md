# üöÄ –ë–´–°–¢–†–´–ô –î–ï–ü–õ–û–ô KAMHUB –ù–ê TIMEWEB CLOUD

**–í—Ä–µ–º—è:** 30-40 –º–∏–Ω—É—Ç | **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¢ –ü—Ä–æ—Å—Ç–æ–π | **–°—Ç–æ–∏–º–æ—Å—Ç—å:** 1,200‚ÇΩ/–º–µ—Å

---

## ‚úÖ –ß–¢–û –ì–û–¢–û–í–û

```
‚úÖ –°–µ—Ä–≤–µ—Ä Timeweb:        5.129.248.224 (–æ–Ω–ª–∞–π–Ω)
‚úÖ –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è:         deploy-timeweb.sh (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)
‚úÖ PM2 –∫–æ–Ω—Ñ–∏–≥:            ecosystem.config.js (production)
‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥:          –ê–≤—Ç–æ-–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:          TIMEWEB_DEPLOYMENT.md (676 —Å—Ç—Ä–æ–∫)
‚úÖ CI/CD:                 GitHub Actions –Ω–∞—Å—Ç—Ä–æ–µ–Ω
‚úÖ Backup:                –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (–∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤)
```

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é:** ‚úÖ **95%**

---

## üìã –ß–ï–ö–õ–ò–°–¢: –ß–¢–û –ù–£–ñ–ù–û –ü–ï–†–ï–î –î–ï–ü–õ–û–ï–ú

### 1Ô∏è‚É£ API –ö–ª—é—á–∏ (15 –º–∏–Ω—É—Ç, –≤—Å–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ):

```bash
‚òê Yandex Maps API:     https://developer.tech.yandex.ru/
                       ‚Üí API –∫–ª—é—á–∏ ‚Üí JavaScript API
                       ‚Üí –õ–∏–º–∏—Ç: 25,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å

‚òê GROQ API:            https://console.groq.com/
                       ‚Üí API Keys ‚Üí Create API Key
                       ‚Üí –õ–∏–º–∏—Ç: 14,400 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å

‚òê DeepSeek API:        https://platform.deepseek.com/
                       ‚Üí API Keys
                       ‚Üí –ë–æ–Ω—É—Å: $5 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤

‚òê JWT_SECRET:          openssl rand -base64 32
                       ‚Üí –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
```

### 2Ô∏è‚É£ PostgreSQL –Ω–∞ Timeweb (5 –º–∏–Ω—É—Ç):

```bash
‚òê 1. Timeweb Panel ‚Üí "–û–±–ª–∞—á–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"
‚òê 2. "–°–æ–∑–¥–∞—Ç—å –ë–î" ‚Üí PostgreSQL 15
‚òê 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 2 GB RAM, 10 GB Disk
‚òê 4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å DATABASE_URL (–∏–∑ email)
‚òê 5. –í–∫–ª—é—á–∏—Ç—å PostGIS: CREATE EXTENSION postgis;
```

### 3Ô∏è‚É£ SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É:

```bash
‚òê IP: 5.129.248.224
‚òê User: root
‚òê Password: (–∏–∑ –ø–∞–Ω–µ–ª–∏ Timeweb)
```

---

## üöÄ –ö–û–ú–ê–ù–î–´ –î–ï–ü–õ–û–Ø (3 —à–∞–≥–∞)

### –®–ê–ì 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@5.129.248.224
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∏–∑ –ø–∞–Ω–µ–ª–∏ Timeweb
```

---

### –®–ê–ì 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π

```bash
# –°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç
curl -o deploy.sh https://raw.githubusercontent.com/PosPk/kamhub/main/deploy-timeweb.sh

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x deploy.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å (10-15 –º–∏–Ω—É—Ç)
bash deploy.sh
```

**–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:**
- ‚úÖ Node.js 20
- ‚úÖ PostgreSQL
- ‚úÖ Nginx
- ‚úÖ PM2
- ‚úÖ Firewall
- ‚úÖ –°–æ–±–µ—Ä–µ—Ç –ø—Ä–æ–µ–∫—Ç
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

---

### –®–ê–ì 3: –ó–∞–ø–æ–ª–Ω–∏—Ç—å API –∫–ª—é—á–∏

```bash
cd /var/www/kamchatour
nano .env
```

**–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è:**

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–∏–∑ –®–∞–≥–∞ 2Ô∏è‚É£)
DATABASE_URL=postgresql://gen_user:PASSWORD@xxxxx.timeweb.cloud:5432/kamhub

# AI API (–∏–∑ –®–∞–≥–∞ 1Ô∏è‚É£)
GROQ_API_KEY=gsk_–≤–∞—à_–∫–ª—é—á
DEEPSEEK_API_KEY=sk_–≤–∞—à_–∫–ª—é—á

# Yandex (–∏–∑ –®–∞–≥–∞ 1Ô∏è‚É£)
YANDEX_MAPS_API_KEY=–≤–∞—à_–∫–ª—é—á
YANDEX_WEATHER_API_KEY=8f6b0a53-135f-4217-8de1-de98c1316cc0  # –£–∂–µ –µ—Å—Ç—å!

# Security (–∏–∑ –®–∞–≥–∞ 1Ô∏è‚É£)
JWT_SECRET=–≤–∞—à_—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_—Å–µ–∫—Ä–µ—Ç
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ:** `Ctrl+O` ‚Üí Enter ‚Üí `Ctrl+X`

---

### –®–ê–ì 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
pm2 restart kamchatour-hub
pm2 logs
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:

```bash
pm2 status
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å "online"
```

### 2. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://5.129.248.224
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É KamHub ‚Üí ‚úÖ –î–ï–ü–õ–û–ô –£–°–ü–ï–®–ï–ù!**

---

## üîß –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 status

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs kamchatour-hub

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart kamchatour-hub

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
pm2 stop kamchatour-hub

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
pm2 monit

# –°—Ç–∞—Ç—É—Å Nginx
systemctl status nginx

# –õ–æ–≥–∏ Nginx
tail -f /var/log/nginx/kamchatour_access.log
tail -f /var/log/nginx/kamchatour_error.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
psql -U kamuser -d kamchatour -c "SELECT count(*) FROM users;"
```

---

## üåê –ù–ê–°–¢–†–û–ô–ö–ê –î–û–ú–ï–ù–ê (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. –ö—É–ø–∏—Ç—å –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ Timeweb):

```
–°—Ç–æ–∏–º–æ—Å—Ç—å: ~300‚ÇΩ/–≥–æ–¥ (.ru –¥–æ–º–µ–Ω)
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS:

```bash
Timeweb Panel ‚Üí –î–æ–º–µ–Ω—ã ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS
–î–æ–±–∞–≤–∏—Ç—å A-–∑–∞–ø–∏—Å—å:
  –ò–º—è: @
  –¢–∏–ø: A
  –ó–Ω–∞—á–µ–Ω–∏–µ: 5.129.248.224
  TTL: 3600
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å .env:

```bash
nano /var/www/kamchatour/.env

# –ò–∑–º–µ–Ω–∏—Ç—å:
NEXT_PUBLIC_APP_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSL (Let's Encrypt):

```bash
apt install certbot python3-certbot-nginx
certbot --nginx -d –≤–∞—à-–¥–æ–º–µ–Ω.ru

# –ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ SSL
certbot renew --dry-run
```

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru` üéâ

---

## ‚ö†Ô∏è –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ü—Ä–æ–±–ª–µ–º–∞: `pm2 status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "errored"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
pm2 logs kamchatour-hub --lines 100
# –°–º–æ—Ç—Ä–∏–º –æ—à–∏–±–∫—É

# –û–±—ã—á–Ω–æ —ç—Ç–æ:
# 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π DATABASE_URL ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ .env
# 2. –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç ‚Üí lsof -i :3002
# 3. –ù–µ—Ç API –∫–ª—é—á–µ–π ‚Üí –∑–∞–ø–æ–ª–Ω–∏—Ç–µ .env
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: Nginx –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "502 Bad Gateway"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ PM2
pm2 status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
pm2 restart kamchatour-hub

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PostgreSQL
systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
psql -U kamuser -d kamchatour

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env
cat .env | grep DATABASE_URL
```

---

## üí∞ –°–¢–û–ò–ú–û–°–¢–¨

```
VDS (2 vCPU, 4 GB):          700‚ÇΩ/–º–µ—Å
PostgreSQL (2 GB, 10 GB):    500‚ÇΩ/–º–µ—Å
–î–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):         300‚ÇΩ/–≥–æ–¥
SSL:                         –ë–ï–°–ü–õ–ê–¢–ù–û
AI APIs:                     –ë–ï–°–ü–õ–ê–¢–ù–û (–ª–∏–º–∏—Ç—ã)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ò–¢–û–ì–û:                       ~1,200‚ÇΩ/–º–µ—Å
```

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
```bash
docs/TIMEWEB_DEPLOYMENT.md        - 676 —Å—Ç—Ä–æ–∫ (–∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ)
docs/TIMEWEB_MANUAL_DEPLOY.md     - –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π
TIMEWEB_ENV_SETUP.md              - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
TIMEWEB_DB_SETUP.md               - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
```

**GitHub Actions:**
```bash
.github/workflows/timeweb-deploy.yml  - –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –∏–∑ GitHub
```

**–°–∫—Ä–∏–ø—Ç—ã:**
```bash
scripts/setup-timeweb-server.sh       - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
scripts/get-timeweb-logs.sh           - –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤
scripts/check-timeweb-status.sh       - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```

---

## ‚úÖ –ò–¢–û–ì–û

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ 95%!**

**–û—Å—Ç–∞–ª–æ—Å—å:**
1. –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏ (15 –º–∏–Ω)
2. –°–æ–∑–¥–∞—Ç—å PostgreSQL (5 –º–∏–Ω)
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è (15 –º–∏–Ω)
4. –ó–∞–ø–æ–ª–Ω–∏—Ç—å .env (5 –º–∏–Ω)

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** ~40 –º–∏–Ω—É—Ç

---

**–ú–û–ñ–ù–û –î–ï–ü–õ–û–ò–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°!** üöÄ

**–£–¥–∞—á–∏!** üèîÔ∏è

---

**–°–æ–∑–¥–∞–Ω–æ:** 26 –Ω–æ—è–±—Ä—è 2025  
**–°–µ—Ä–≤–µ—Ä:** 5.129.248.224 (‚úÖ –æ–Ω–ª–∞–π–Ω)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ READY FOR PRODUCTION
