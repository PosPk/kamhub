# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ tourhab.ru

**–î–∞—Ç–∞:** 2025-11-03  
**–î–æ–º–µ–Ω:** tourhab.ru  
**IP —Å–µ—Ä–≤–µ—Ä–∞:** 5.129.248.224

---

## ‚úÖ –ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û

### 1. Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úÖ

–°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è:
- `tourhab.ru`
- `www.tourhab.ru`
- `5.129.248.224` (IP)

**–§–∞–π–ª:** `/etc/nginx/sites-available/kamhub`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP/1.1 —Å keepalive
- –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã (300s)
- –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Next.js (–ø–æ—Ä—Ç 3000)
- –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–°

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –∑–∞–ø–∏—Å–∏

–ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è DNS –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞ (–≥–¥–µ –≤—ã –∫—É–ø–∏–ª–∏ `tourhab.ru`).

#### A-–∑–∞–ø–∏—Å—å –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞:
```
–¢–∏–ø:     A
–ò–º—è:     @ (–∏–ª–∏ –ø—É—Å—Ç–æ–µ –ø–æ–ª–µ, –∏–ª–∏ tourhab.ru)
–ó–Ω–∞—á–µ–Ω–∏–µ: 5.129.248.224
TTL:     3600 (–∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π)
```

#### A-–∑–∞–ø–∏—Å—å –¥–ª—è www:
```
–¢–∏–ø:     A
–ò–º—è:     www
–ó–Ω–∞—á–µ–Ω–∏–µ: 5.129.248.224
TTL:     3600 (–∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π)
```

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã:**
- **Timeweb:** DNS –∑–∞–ø–∏—Å–∏ ‚Üí –î–æ–±–∞–≤–∏—Ç—å A-–∑–∞–ø–∏—Å—å
- **Reg.ru:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–æ–º ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–æ–Ω–æ–π
- **Nic.ru:** –£—Å–ª—É–≥–∏ ‚Üí DNS-—Å–µ—Ä–≤–µ—Ä—ã ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–æ–Ω–∞–º–∏

---

### –®–∞–≥ 2: –ü–æ–¥–æ–∂–¥–∞—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS (5-30 –º–∏–Ω—É—Ç)

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è DNS –∑–∞–ø–∏—Å–µ–π –Ω—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å, –ø–æ–∫–∞ –æ–Ω–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—Å—è.

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
ping tourhab.ru

# –î–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å:
# Reply from 5.129.248.224
```

**–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–Ω–ª–∞–π–Ω:**
- https://dnschecker.org/#A/tourhab.ru
- https://www.whatsmydns.net/#A/tourhab.ru

–ö–æ–≥–¥–∞ –Ω–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–µ—Ä–≤–µ—Ä–æ–≤ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω IP `5.129.248.224` - DNS –≥–æ—Ç–æ–≤!

---

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS)

–ö–æ–≥–¥–∞ DNS –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSL:

```bash
ssh root@5.129.248.224
```

–ü–∞—Ä–æ–ª—å: `xQvB1pv?yZTjaR`

–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
apt update
apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
certbot --nginx -d tourhab.ru -d www.tourhab.ru --non-interactive --agree-tos --email your-email@example.com

# –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
systemctl enable certbot.timer
systemctl start certbot.timer
```

**‚ö†Ô∏è –ó–∞–º–µ–Ω–∏—Ç–µ** `your-email@example.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π email!

---

## ü§ñ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –£–°–¢–ê–ù–û–í–ö–ê SSL

–Ø –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç. –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```python
python3 << 'SSL_INSTALL'
import paramiko

ssh = paramiko.SSHClient()
ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
ssh.connect("5.129.248.224", 22, "root", "xQvB1pv?yZTjaR")

def run(cmd):
    stdin, stdout, stderr = ssh.exec_command(cmd, get_pty=True, timeout=180)
    return stdout.read().decode()

print("üîê –£–°–¢–ê–ù–û–í–ö–ê SSL –¥–ª—è tourhab.ru\n")

# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
print("1Ô∏è‚É£ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é Certbot...")
run("apt update && apt install -y certbot python3-certbot-nginx")

# 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
print("\n2Ô∏è‚É£ –ü–æ–ª—É—á–∞—é SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç...")
email = "admin@tourhab.ru"  # –ò–ó–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® EMAIL!
result = run(f"certbot --nginx -d tourhab.ru -d www.tourhab.ru --non-interactive --agree-tos --email {email}")
print(result)

# 3. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
print("\n3Ô∏è‚É£ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ...")
run("systemctl enable certbot.timer && systemctl start certbot.timer")

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
print("\n4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—è—é SSL:")
result = run("certbot certificates")
print(result)

ssh.close()
print("\n‚úÖ SSL –£–°–¢–ê–ù–û–í–õ–ï–ù!")
print("üåê –û—Ç–∫—Ä–æ–π—Ç–µ: https://tourhab.ru")

SSL_INSTALL
```

---

## üîç –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –£–°–¢–ê–ù–û–í–ö–ò

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTP (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ä–∞–∑—É):
```bash
curl -I http://tourhab.ru
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK –∏–ª–∏ 301 (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS)
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTPS (–ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSL):
```bash
curl -I https://tourhab.ru
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK
```

### 3. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- http://tourhab.ru ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å–∞–π—Ç
- https://tourhab.ru ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å –∑–µ–ª–µ–Ω—ã–º –∑–∞–º–∫–æ–º (–ø–æ—Å–ª–µ SSL)
- www.tourhab.ru ‚Üí –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å

---

## ‚ö†Ô∏è –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "DNS –µ—â–µ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª—Å—è"
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-30 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "Certbot –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–æ–º–µ–Ω"
**–ü—Ä–∏—á–∏–Ω–∞:** DNS –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ  
**–†–µ—à–µ–Ω–∏–µ:** 
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:
nslookup tourhab.ru
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: 5.129.248.224
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx:
systemctl restart nginx
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "–°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –¥–æ–º–µ–Ω—É"
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω? `ping tourhab.ru`
2. Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç? `systemctl status nginx`
3. PM2 —Ä–∞–±–æ—Ç–∞–µ—Ç? `pm2 list`
4. –ü–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç? `netstat -tulpn | grep :80`

---

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | ‚úÖ | –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è tourhab.ru |
| DNS A-–∑–∞–ø–∏—Å—å | ‚è≥ | –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç | ‚è≥ | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ DNS |
| HTTP –¥–æ—Å—Ç—É–ø | ‚è≥ | –ó–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ DNS |
| HTTPS –¥–æ—Å—Ç—É–ø | ‚è≥ | –ó–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ SSL |

---

## üéØ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê (–ø–æ—Å–ª–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤)

1. **HTTP —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   curl http://tourhab.ru
   # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML
   ```

2. **HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   curl https://tourhab.ru
   # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML
   ```

3. **–†–µ–¥–∏—Ä–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   curl -I http://tourhab.ru
   # –ú–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   ```

4. **WWW —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   curl http://www.tourhab.ru
   # –î–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
   ```

5. **–ë—Ä–∞—É–∑–µ—Ä:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://tourhab.ru
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–µ–ª–µ–Ω—ã–π –∑–∞–º–æ–∫ SSL
   - –°–∞–π—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é

---

## üìû –ü–û–ú–û–©–¨

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:
   ```bash
   nslookup tourhab.ru
   dig tourhab.ru
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx:
   ```bash
   tail -f /var/log/nginx/error.log
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Certbot:
   ```bash
   tail -f /var/log/letsencrypt/letsencrypt.log
   ```

4. –°–æ–æ–±—â–∏—Ç–µ –º–Ω–µ –≤—ã–≤–æ–¥ —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

---

## üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï SSL (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ)

Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∑–∞ 30 –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è.

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
```bash
systemctl status certbot.timer
```

**–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–¥–ª—è —Ç–µ—Å—Ç–∞):**
```bash
certbot renew --dry-run
```

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –°–°–´–õ–ö–ò

- **Let's Encrypt –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://letsencrypt.org/
- **Certbot –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://certbot.eff.org/
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ SSL:** https://www.ssllabs.com/ssltest/analyze.html?d=tourhab.ru

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-03 10:00 UTC  
**–°—Ç–∞—Ç—É—Å:** Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –æ–∂–∏–¥–∞–Ω–∏–µ DNS  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSL
