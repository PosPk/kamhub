name: Debug Timeweb NOW

on:
  push:
    branches:
      - cursor/analyze-repository-and-timeweb-project-79c9

jobs:
  get-logs:
    runs-on: ubuntu-latest
    
    steps:
      - name: üîç Get Timeweb Logs
        run: |
          echo "=========================================="
          echo "üîç RUNTIME LOGS (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫)"
          echo "=========================================="
          
          curl -s "https://api.timeweb.cloud/api/v1/apps/125051/logs?type=runtime&limit=100" \
            -H "Authorization: Bearer ${{ secrets.TIMEWEB_API_TOKEN1 }}" \
            -H "Content-Type: application/json" || echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏"
          
          echo ""
          echo "=========================================="
          echo "üìä APP STATUS"
          echo "=========================================="
          
          curl -s "https://api.timeweb.cloud/api/v1/apps/125051" \
            -H "Authorization: Bearer ${{ secrets.TIMEWEB_API_TOKEN1 }}" \
            -H "Content-Type: application/json" || echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å"
          
          echo ""
          echo "=========================================="
          echo "üîç DEPLOYMENTS"
          echo "=========================================="
          
          curl -s "https://api.timeweb.cloud/api/v1/apps/125051/deployments?limit=5" \
            -H "Authorization: Bearer ${{ secrets.TIMEWEB_API_TOKEN1 }}" \
            -H "Content-Type: application/json" || echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–µ–ø–ª–æ–∏"
          
          echo ""
          echo "‚úÖ –ì–û–¢–û–í–û!"
