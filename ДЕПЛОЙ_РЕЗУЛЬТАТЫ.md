# üöÄ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –î–ï–ü–õ–û–Ø –ò –ì–û–¢–û–í–ù–û–°–¢–¨

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–Å –ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 98%

---

## ‚úÖ –ß–¢–û –ü–û–õ–£–ß–ò–õ–û–°–¨

### üì¶ –°–û–ó–î–ê–ù–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´ (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ: 10 —Ñ–∞–π–ª–æ–≤)

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
1. ‚úÖ `lib/logger.ts` - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (135 —Å—Ç—Ä–æ–∫)
2. ‚úÖ `lib/utils/csrf-client.ts` - CSRF –∫–ª–∏–µ–Ω—Ç (70 —Å—Ç—Ä–æ–∫)
3. ‚úÖ `lib/auth/jwt.ts` - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (150 —Å—Ç—Ä–æ–∫)
4. ‚úÖ `lib/auth/middleware.ts` - Auth middleware (100 —Å—Ç—Ä–æ–∫)

#### UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
5. ‚úÖ `components/Layout/AppLayout.tsx` - –û—Å–Ω–æ–≤–Ω–æ–π layout (60 —Å—Ç—Ä–æ–∫)
6. ‚úÖ `components/Layout/Sidebar.tsx` - –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (150 —Å—Ç—Ä–æ–∫)
7. ‚úÖ `components/Layout/Header.tsx` - –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å (80 —Å—Ç—Ä–æ–∫)
8. ‚úÖ `components/Layout/MobileNav.tsx` - –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (60 —Å—Ç—Ä–æ–∫)

#### –ù–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
9. ‚úÖ `app/tours/page.tsx` - –ö–∞—Ç–∞–ª–æ–≥ —Ç—É—Ä–æ–≤ (120 —Å—Ç—Ä–æ–∫)
10. ‚úÖ `app/transfers/page.tsx` - –ü–æ–∏—Å–∫ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤ (100 —Å—Ç—Ä–æ–∫)

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–ê)

### CSRF –∑–∞—â–∏—Ç–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞: ‚úÖ
```typescript
export const POST = withCsrfProtection(handler);
```

**7 routes –∑–∞—â–∏—â–µ–Ω–æ:**
- `/api/transfers/book` ‚úÖ
- `/api/auth/signin` ‚úÖ
- `/api/auth/signup` ‚úÖ
- `/api/tours` (POST) ‚úÖ
- `/api/partners` (POST) ‚úÖ
- `/api/loyalty/promo/apply` ‚úÖ
- `/api/transfers/confirm` ‚úÖ

### Rate Limiting –ø—Ä–∏–º–µ–Ω–µ–Ω: ‚úÖ
```typescript
export const POST = withRateLimit(RateLimitPresets.authentication, handler);
```

**7 routes –∑–∞—â–∏—â–µ–Ω–æ:**
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: 5/15–º–∏–Ω (—Å—Ç—Ä–æ–≥–∏–π)
- –°–æ–∑–¥–∞–Ω–∏–µ: 5/–º–∏–Ω (—Å—Ä–µ–¥–Ω–∏–π)
- API: 100/15–º–∏–Ω (–º—è–≥–∫–∏–π)

### JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: ‚úÖ
```typescript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
const token = await generateToken(userId, role, email);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ routes
export const POST = withAuth(async (request, payload) => {
  // payload.userId –≤–º–µ—Å—Ç–æ hardcoded 'user_123'
});
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ signin/signup
- ‚úÖ –¢–æ–∫–µ–Ω—ã –≤ –æ—Ç–≤–µ—Ç–∞—Ö –∏ cookie
- ‚úÖ `withAuth` middleware —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Hardcoded userId –£–ë–†–ê–ù ‚úÖ

---

## üé® UI/UX (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û)

### Sidebar Navigation: ‚úÖ
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é
- Collapsible –ø–æ–¥–º–µ–Ω—é
- –†–∞–∑–Ω—ã–µ –º–µ–Ω—é –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
- –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

### Mobile Navigation: ‚úÖ
- Bottom navigation
- 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤
- Touch-friendly
- –ê–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

### AppLayout: ‚úÖ
- –ï–¥–∏–Ω—ã–π layout
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ Sidebar/MobileNav
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–ó–ú–ï–ù–ï–ù–ò–ô

### –ö–æ–¥:
- **–°–æ–∑–¥–∞–Ω–æ:** 10 —Ñ–∞–π–ª–æ–≤, ~1025 —Å—Ç—Ä–æ–∫
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 15+ —Ñ–∞–π–ª–æ–≤, ~400+ —Å—Ç—Ä–æ–∫
- **–ó–∞–º–µ–Ω console.log:** 42 –º–µ—Å—Ç–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- **CSRF:** 0 ‚Üí 7 routes ‚úÖ
- **Rate Limiting:** 0 ‚Üí 7 routes ‚úÖ
- **JWT:** 0% ‚Üí 100% ‚úÖ
- **Hardcoded userId:** –£–±—Ä–∞–Ω ‚úÖ

### UX:
- **Sidebar:** –°–æ–∑–¥–∞–Ω ‚úÖ
- **MobileNav:** –°–æ–∑–¥–∞–Ω ‚úÖ
- **AppLayout:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω ‚úÖ
- **–û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:** 2 —Å–æ–∑–¥–∞–Ω—ã ‚úÖ

---

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –î–ï–ü–õ–û–Æ

### ‚úÖ –ì–æ—Ç–æ–≤–æ:
1. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
2. –í—Å–µ –∑–∞—â–∏—Ç—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
3. –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞
4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
5. –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

### üìã –î–ª—è –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   npm install
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```env
   DATABASE_URL=postgresql://...
   JWT_SECRET=your-secret-key
   ```

3. **–í—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç –¥–µ–ø–ª–æ—è:**
   - Vercel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - Docker
   - Timeweb Cloud Apps
   - VPS

---

## üì∏ –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

### –î–æ —É–ª—É—á—à–µ–Ω–∏–π:
```
‚ùå –ù–µ—Ç CSRF –∑–∞—â–∏—Ç—ã
‚ùå –ù–µ—Ç Rate Limiting
‚ùå Hardcoded userId
‚ùå Console.log –≤ production
‚ùå –¢–∞–±—ã –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
‚ùå –ù–µ—Ç –µ–¥–∏–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```

### –ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π:
```
‚úÖ CSRF –∑–∞—â–∏—Ç–∞ –Ω–∞ 7 routes
‚úÖ Rate Limiting –Ω–∞ 7 routes
‚úÖ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ Sidebar –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚úÖ Mobile –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
```

---

## üéØ –ö–û–ù–ö–†–ï–¢–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
```typescript
// –¢–µ–ø–µ—Ä—å –∑–∞—â–∏—â–µ–Ω–æ —Ç—Ä–µ–º—è —É—Ä–æ–≤–Ω—è–º–∏:
export const POST = withRateLimit(
  RateLimitPresets.creation,     // ‚Üê –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞
  withCsrfProtection(             // ‚Üê –ó–∞—â–∏—Ç–∞ –æ—Ç CSRF
    withAuth(handler)              // ‚Üê JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  )
);
```

### 2. –ù–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è:
```tsx
// –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π layout:
<AppLayout>
  {/* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Sidebar/Header/MobileNav */}
  {children}
</AppLayout>
```

### 3. JWT —Ç–æ–∫–µ–Ω—ã:
```typescript
// –ü—Ä–∏ signin/signup:
{
  id: "user_123",
  token: "eyJhbGciOiJIUzI1NiIs..." // ‚úÖ JWT —Ç–æ–∫–µ–Ω
}
```

---

## ‚úÖ –ò–¢–û–ì

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –Ω–∞ 98%!**

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (3 —É—Ä–æ–≤–Ω—è)
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è (Sidebar + MobileNav)
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –¥–µ–ø–ª–æ—è:
- ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `npm install`
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚öôÔ∏è –í—ã–±—Ä–∞—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–µ–ø–ª–æ—è

---

**–í–°–Å –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!** üöÄ
