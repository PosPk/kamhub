# ‚ö° –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ - AI –ú–ï–¢–†–ò–ö–ò

## üéØ –ß–¢–û –°–î–ï–õ–ê–ù–û

```
‚úÖ SQL —Å—Ö–µ–º–∞ (428 —Å—Ç—Ä–æ–∫)
   ‚îî‚îÄ 4 —Ç–∞–±–ª–∏—Ü—ã + 3 views + 2 —Ñ—É–Ω–∫—Ü–∏–∏ + 16 –∏–Ω–¥–µ–∫—Å–æ–≤

‚úÖ TypeScript –∫–ª–∞—Å—Å (346 —Å—Ç—Ä–æ–∫)
   ‚îî‚îÄ AIMetrics —Å 4 –≥–ª–∞–≤–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

‚úÖ AIChatWidget –æ–±–Ω–æ–≤–ª–µ–Ω (324 —Å—Ç—Ä–æ–∫–∏)
   ‚îî‚îÄ –ö–Ω–æ–ø–∫–∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ üëç/üëé

‚úÖ 2 API endpoints (197 —Å—Ç—Ä–æ–∫)
   ‚îî‚îÄ /feedback –∏ /summary

‚úÖ Dashboard —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (372 —Å—Ç—Ä–æ–∫–∏)
   ‚îî‚îÄ –ö—Ä–∞—Å–∏–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫

üìä –ò–¢–û–ì–û: 1,453+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
```

---

## üöÄ –ó–ê–ü–£–°–ö –í 3 –®–ê–ì–ê

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î (30 —Å–µ–∫—É–Ω–¥)

```bash
psql -U kamuser -d kamchatour -f lib/database/ai_metrics_schema.sql
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
psql -U kamuser -d kamchatour -c "SELECT COUNT(*) FROM ai_metrics;"
```
–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `0` (—Ç–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞—è, –Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

---

### 2Ô∏è‚É£ –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (1 –º–∏–Ω—É—Ç–∞)

```sql
-- –í–æ–π–¥–∏—Ç–µ –≤ –ë–î
psql -U kamuser -d kamchatour

-- –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å–µ—Å—Å–∏—é
INSERT INTO ai_chat_sessions (session_id, first_user_message, task_completed, user_satisfied)
VALUES ('test_1', '–ù–∞–π–¥–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä –∏–∑ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞', true, true);

-- –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏
INSERT INTO ai_metrics (session_id, metric_type, metric_value, created_at)
VALUES 
  ('test_1', 'action_completion', 1.0, NOW()),
  ('test_1', 'conversation_quality', 1.0, NOW()),
  ('test_1', 'agent_efficiency', 0.85, NOW());

-- –î–æ–±–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–¥–ª—è –¥–µ–º–æ)
INSERT INTO ai_metrics (session_id, metric_type, tool_name, success, latency, created_at)
VALUES ('test_1', 'tool_execution', 'transfer_search', false, 2100, NOW() - INTERVAL '1 hour');

-- –í—ã—Ö–æ–¥
\q
```

---

### 3Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ Dashboard (5 —Å–µ–∫—É–Ω–¥)

```
http://localhost:3000/hub/operator/ai-metrics
```

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á: 100%
- üòä –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 100%
- üîß –£—Å–ø–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: 0% (–æ–¥–Ω–∞ –æ—à–∏–±–∫–∞)
- ‚ö° –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 85%

---

## üé® –ö–ê–ö –í–´–ì–õ–Ø–î–ò–¢

### –í —á–∞—Ç–µ (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:                   ‚îÇ
‚îÇ –ù–∞–π–¥–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä –∏–∑ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ü§ñ AI:                             ‚îÇ
‚îÇ –í–æ—Ç 5 —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤ –Ω–∞ –≤–∞—à –º–∞—Ä—à—Ä—É—Ç... ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë –≠—Ç–æ—Ç –æ—Ç–≤–µ—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω?            ‚ïë
‚ïë         [üëç –î–∞]  [üëé –ù–µ—Ç]          ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

### –í Dashboard (–¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚úÖ –ó–∞–¥–∞—á–∏   ‚îÇ üòä –†–µ–π—Ç–∏–Ω–≥  ‚îÇ üîß –£—Å–ø–µ—Ö    ‚îÇ ‚ö° –°–∫–æ—Ä–æ—Å—Ç—å ‚îÇ
‚îÇ    85%      ‚îÇ    90%      ‚îÇ    98%      ‚îÇ    85%     ‚îÇ
‚îÇ 17 –∏–∑ 20    ‚îÇ 18 –¥–æ–≤–æ–ª—å–Ω—ã ‚îÇ 2 –æ—à–∏–±–∫–∏    ‚îÇ 1.2s       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí¨ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Å—Å–∏–π          üìà –¢—Ä–µ–Ω–¥ –∑–∞ 7 –¥–Ω–µ–π    ‚îÇ
‚îÇ                                                      ‚îÇ
‚îÇ –í—Å–µ–≥–æ: 45                     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 12       ‚îÇ
‚îÇ –ó–∞–≤–µ—Ä—à–µ–Ω–æ: 38                 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 10         ‚îÇ
‚îÇ –°–æ–æ–±—â–µ–Ω–∏–π: 4.2                ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 13      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ö†Ô∏è –¢–æ–ø –æ—à–∏–±–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤                           ‚îÇ
‚îÇ                                                      ‚îÇ
‚îÇ transfer_search       5 –æ—à–∏–±–æ–∫  ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 20%      ‚îÇ
‚îÇ booking_create        2 –æ—à–∏–±–∫–∏  ‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 10%      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

```
/workspace/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ ai/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ metrics.ts                    ‚úÖ –ö–õ–ê–°–° –ú–ï–¢–†–ò–ö
‚îÇ   ‚îî‚îÄ‚îÄ database/
‚îÇ       ‚îî‚îÄ‚îÄ ai_metrics_schema.sql         ‚úÖ SQL –°–•–ï–ú–ê
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ AIChatWidget.tsx                  ‚úÖ –û–ë–ù–û–í–õ–ï–ù (—Å feedback)
‚îÇ
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ai-metrics/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ feedback/route.ts         ‚úÖ API feedback
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ summary/route.ts          ‚úÖ API summary
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ hub/operator/
‚îÇ       ‚îî‚îÄ‚îÄ ai-metrics/
‚îÇ           ‚îî‚îÄ‚îÄ page.tsx                  ‚úÖ DASHBOARD
‚îÇ
‚îî‚îÄ‚îÄ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/
    ‚îú‚îÄ‚îÄ AI_METRICS_IMPLEMENTATION_PLAN.md       üìñ –ü–õ–ê–ù
    ‚îú‚îÄ‚îÄ AI_METRICS_SETUP_INSTRUCTIONS.md        üìñ –ò–ù–°–¢–†–£–ö–¶–ò–Ø
    ‚îú‚îÄ‚îÄ AI_METRICS_IMPLEMENTATION_COMPLETE.md   üìñ –û–¢–ß–ï–¢
    ‚îî‚îÄ‚îÄ –ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢_AI_–ú–ï–¢–†–ò–ö.md             üìñ –≠–¢–û –§–ê–ô–õ
```

---

## üîó –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –í–ê–®–ò–ú –ö–û–î–û–ú

### –í `/api/chat/route.ts`:

```typescript
import { aiMetrics } from '@/lib/ai/metrics';

export async function POST(request: NextRequest) {
  const { sessionId, userId, message } = await request.json();
  
  // 1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Å—Å–∏—é (–µ—Å–ª–∏ –Ω–æ–≤–∞—è)
  await aiMetrics.upsertSession({
    sessionId,
    userId,
    firstUserMessage: message,
  });
  
  // 2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  await aiMetrics.saveMessage({
    sessionId,
    role: 'user',
    content: message,
  });
  
  const start = Date.now();
  
  // ... –≤–∞—à AI –∫–æ–¥ ...
  const aiResponse = "...";
  
  // 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –æ—Ç–≤–µ—Ç AI
  await aiMetrics.saveMessage({
    sessionId,
    role: 'assistant',
    content: aiResponse,
    latency: Date.now() - start,
  });
  
  return NextResponse.json({ ... });
}
```

### –í –ª—é–±–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ (—Ç—Ä–∞–Ω—Å—Ñ–µ—Ä—ã, —Ç—É—Ä—ã, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ):

```typescript
const start = Date.now();
try {
  const result = await yourFunction();
  
  await aiMetrics.trackToolExecution({
    sessionId,
    toolName: 'transfer_search',
    success: true,
    latency: Date.now() - start,
  });
  
  return result;
} catch (error) {
  await aiMetrics.trackToolExecution({
    sessionId,
    toolName: 'transfer_search',
    success: false,
    latency: Date.now() - start,
    errorMessage: error.message,
  });
  throw error;
}
```

---

## üìä 4 –ì–õ–ê–í–ù–´–ï –ú–ï–¢–†–ò–ö–ò

| –ú–µ—Ç—Ä–∏–∫–∞ | –ß—Ç–æ –∏–∑–º–µ—Ä—è–µ—Ç | –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|---------|--------------|------------------|
| **‚úÖ Action Completion** | –í—ã–ø–æ–ª–Ω–∏–ª –ª–∏ AI –∑–∞–¥–∞—á—É | –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è ‚Üë completion |
| **üòä Conversation Quality** | –î–æ–≤–æ–ª–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –£–ª—É—á—à–∞–π—Ç–µ —Ç–æ–Ω –∏ —Å—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–æ–≤ |
| **üîß Tool Execution** | –†–∞–±–æ—Ç–∞—é—Ç –ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã | –§–∏–∫—Å–∏—Ç–µ —Ç–æ–ø-–æ—à–∏–±–∫–∏ –≤ Dashboard |
| **‚ö° Agent Efficiency** | –ë—ã—Å—Ç—Ä–æ –ª–∏ —Ä–µ—à–∞–µ—Ç | –£–º–µ–Ω—å—à–∞–π—Ç–µ —à–∞–≥–∏ –∏ latency |

---

## üéØ –¶–ï–õ–ï–í–´–ï –ü–û–ö–ê–ó–ê–¢–ï–õ–ò

**–ß–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫:**

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª—å |
|---------|------|
| Completion Rate | >70% |
| Satisfaction | >80% |
| Tool Success | >95% |
| Avg Latency | <3000ms |
| Efficiency | >70% |

**–ß–µ—Ä–µ–∑ –º–µ—Å—è—Ü:**

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª—å |
|---------|------|
| Completion Rate | >85% |
| Satisfaction | >90% |
| Tool Success | >98% |
| Avg Latency | <2000ms |
| Efficiency | >85% |

---

## üí° –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã
psql -U kamuser -d kamchatour -c "\dt ai_*"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏
psql -U kamuser -d kamchatour -c "
  SELECT * FROM ai_metrics 
  ORDER BY created_at DESC LIMIT 5;
"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
psql -U kamuser -d kamchatour -c "
  SELECT * FROM ai_metrics_summary 
  LIMIT 7;
"

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (>90 –¥–Ω–µ–π)
psql -U kamuser -d kamchatour -c "
  SELECT cleanup_old_ai_metrics();
"
```

---

## üêõ TROUBLESHOOTING

**‚ùå –¢–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞
psql -U kamuser -d kamchatour -c "SELECT current_user;"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
psql -U kamuser -d kamchatour -c "SELECT version();"
```

**‚ùå Dashboard –ø—É—Å—Ç–æ–π:**
```sql
-- –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å–º. —à–∞–≥ 2)
INSERT INTO ai_metrics (...) VALUES (...);
```

**‚ùå Feedback –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
```javascript
// –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
// –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: POST /api/ai-metrics/feedback
// Status: 200
```

---

## ‚úÖ CHECKLIST

- [ ] –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –≤ –ë–î
- [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] Dashboard –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] Dashboard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- [ ] –ö–Ω–æ–ø–∫–∏ feedback —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] /api/chat –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã

---

## üìö –í–°–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

1. **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç** (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç
2. `AI_METRICS_SETUP_INSTRUCTIONS.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
3. `AI_METRICS_IMPLEMENTATION_COMPLETE.md` - –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç
4. `AI_METRICS_IMPLEMENTATION_PLAN.md` - –∏—Å—Ö–æ–¥–Ω—ã–π –ø–ª–∞–Ω

---

## üéâ –ì–û–¢–û–í–û!

–°–∏—Å—Ç–µ–º–∞ AI –º–µ—Ç—Ä–∏–∫ —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** 
–í—ã–ø–æ–ª–Ω–∏—Ç–µ 3 –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ (30 —Å–µ–∫—É–Ω–¥ + 1 –º–∏–Ω—É—Ç–∞ + 5 —Å–µ–∫—É–Ω–¥) ‚¨ÜÔ∏è

**–í–æ–ø—Ä–æ—Å—ã?** 
–°–º–æ—Ç—Ä–∏—Ç–µ `AI_METRICS_SETUP_INSTRUCTIONS.md`

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-05  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û
