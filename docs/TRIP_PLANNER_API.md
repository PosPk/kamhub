# üó∫Ô∏è API –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –Ω–∞ –ö–∞–º—á–∞—Ç–∫—É

## –û–±–∑–æ—Ä

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–µ–∑–¥–æ–∫ –Ω–∞ –ö–∞–º—á–∞—Ç–∫—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥–±–æ—Ä–∞ —Ç—É—Ä–æ–≤, —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ**
- "–Ø –ø–ª–∞–Ω–∏—Ä—É—é –ø–æ–µ–∑–¥–∫—É –Ω–∞ –ö–∞–º—á–∞—Ç–∫—É –Ω–∞ 5 –¥–Ω–µ–π. –•–æ—á—É —É–≤–∏–¥–µ—Ç—å –≤—É–ª–∫–∞–Ω—ã –∏ –º–µ–¥–≤–µ–¥–µ–π"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–π, –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤, –±—é–¥–∂–µ—Ç–∞

‚úÖ **–ü–æ–¥–±–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ –ë–î**
- –¢—É—Ä—ã —Å —É—á–µ—Ç–æ–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —Ä–µ–π—Ç–∏–Ω–≥–∞, —Ü–µ–Ω—ã
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–æ —Ç–∏–ø—É, —Å—Ç–æ–∏–º–æ—Å—Ç–∏, —É–¥–æ–±—Å—Ç–≤–∞–º
- –¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã –º–µ–∂–¥—É –ª–æ–∫–∞—Ü–∏—è–º–∏

‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞**
- –ü–æ–º–∏–Ω—É—Ç–Ω—ã–π –ø–ª–∞–Ω –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- –õ–æ–≥–∏—Å—Ç–∏–∫–∞ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –≤—Ä–µ–º—è, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
- –£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ—Ç–¥—ã—Ö –∏ –ø–µ—Ä–µ–µ–∑–¥—ã

‚úÖ **–†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏**
- –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏
- –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –¥–Ω—è–º
- –£—á–µ—Ç –≤—Å–µ—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ (—Ç—É—Ä—ã, –∂–∏–ª—å–µ, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç)

## API Endpoint

### `POST /api/trip/plan`

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–∞ –ø–æ–µ–∑–¥–∫–∏

#### Request Body

```json
{
  "query": "–Ø –ø–ª–∞–Ω–∏—Ä—É—é –ø–æ–µ–∑–¥–∫—É –Ω–∞ –ö–ê–ú–ß–ê–¢–ö–£ –Ω–∞ 7 –¥–Ω–µ–π. –°–æ—Å—Ç–∞–≤—å –¥–ª—è –º–µ–Ω—è –¥–µ—Ç–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç. –ü–æ–¥–±–µ—Ä–∏ –º–µ—Å—Ç–æ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è. –£–∫–∞–∂–∏ –Ω–µ —Ç–æ–ª—å–∫–æ —Ç—É—Ä—ã –∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∂–µ –ª–æ–≥–∏—Å—Ç–∏–∫—É –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ (–ø–µ—à–∫–æ–º/—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç)",
  "days": 7,
  "budget": 100000,
  "interests": ["hiking", "wildlife", "photography", "nature"],
  "groupSize": 2,
  "startDate": "2025-07-15"
}
```

#### Parameters

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|-------------|----------|
| `query` | string | ‚úÖ | –ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ |
| `days` | number | ‚úÖ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π (1-30) |
| `budget` | number | ‚ùå | –ë—é–¥–∂–µ—Ç –≤ —Ä—É–±–ª—è—Ö |
| `interests` | string[] | ‚ùå | –ò–Ω—Ç–µ—Ä–µ—Å—ã: hiking, wildlife, culture, adventure, relaxation, photography |
| `groupSize` | number | ‚ùå | –†–∞–∑–º–µ—Ä –≥—Ä—É–ø–ø—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2) |
| `startDate` | string | ‚ùå | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD |

#### Response

```json
{
  "success": true,
  "data": {
    "summary": {
      "total_days": 7,
      "total_cost": 85000,
      "highlights": [
        "–í–æ—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –Ω–∞ –ê–≤–∞—á–∏–Ω—Å–∫–∏–π –≤—É–ª–∫–∞–Ω",
        "–í–∏–∑–∏—Ç –≤ –î–æ–ª–∏–Ω—É –≥–µ–π–∑–µ—Ä–æ–≤",
        "–ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –º–µ–¥–≤–µ–¥—è–º–∏"
      ],
      "difficulty_level": "medium"
    },
    "days": [
      {
        "day": 1,
        "date": "2025-07-15",
        "activities": [
          {
            "time": "09:00",
            "type": "transfer",
            "card_id": "transfer-uuid",
            "title": "–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –∏–∑ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞",
            "description": "–í—Å—Ç—Ä–µ—á–∞ –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç—É –ï–ª–∏–∑–æ–≤–æ, —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä –¥–æ –æ—Ç–µ–ª—è",
            "duration": 60,
            "price": 1500,
            "logistics": {
              "transport": "car",
              "duration_minutes": 60,
              "distance_km": 30,
              "notes": "–í—Å—Ç—Ä–µ—á–∞ —Å —Ç–∞–±–ª–∏—á–∫–æ–π —É –≤—ã—Ö–æ–¥–∞"
            }
          },
          {
            "time": "14:00",
            "type": "tour",
            "card_id": "tour-uuid",
            "title": "–û–±–∑–æ—Ä–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è –ø–æ –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫—É",
            "description": "–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –≥–æ—Ä–æ–¥–æ–º, –ø–æ—Å–µ—â–µ–Ω–∏–µ —Å–º–æ—Ç—Ä–æ–≤—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫",
            "duration": 180,
            "price": 3500,
            "logistics": {
              "transport": "walk",
              "duration_minutes": 15,
              "distance_km": 1.2,
              "notes": "–í—Å—Ç—Ä–µ—á–∞ —É –æ—Ç–µ–ª—è"
            }
          },
          {
            "time": "18:00",
            "type": "free_time",
            "title": "–°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è",
            "description": "–£–∂–∏–Ω, –æ—Ç–¥—ã—Ö –ø–æ—Å–ª–µ –ø–µ—Ä–µ–ª–µ—Ç–∞"
          }
        ],
        "accommodation": {
          "id": "acc-uuid",
          "name": "–ì–æ—Å—Ç–∏–Ω–∏—Ü–∞ '–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫'",
          "type": "hotel",
          "address": "—É–ª. –õ–µ–Ω–∏–Ω—Å–∫–∞—è, 61",
          "price_per_night": 3500,
          "rating": 4.2,
          "amenities": ["wifi", "breakfast", "parking"],
          "coordinates": { "lat": 53.0186, "lng": 158.6507 }
        },
        "total_cost": 8500
      }
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–Ω–∏
    ],
    "tours": [
      {
        "id": "tour-uuid",
        "name": "–í–æ—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –Ω–∞ –ê–≤–∞—á–∏–Ω—Å–∫–∏–π –≤—É–ª–∫–∞–Ω",
        "description": "–û–¥–Ω–æ–¥–Ω–µ–≤–Ω–æ–µ –≤–æ—Å—Ö–æ–∂–¥–µ–Ω–∏–µ...",
        "duration": 480,
        "price": 8500,
        "difficulty": "medium",
        "rating": 4.8,
        "coordinates": []
      }
    ],
    "accommodations": [
      {
        "id": "acc-uuid",
        "name": "–ì–æ—Å—Ç–∏–Ω–∏—Ü–∞ '–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫'",
        "type": "hotel",
        "price_per_night": 3500,
        "rating": 4.2
      }
    ],
    "transfers": [
      {
        "id": "transfer-uuid",
        "route_name": "–ê—ç—Ä–æ–ø–æ—Ä—Ç - –ì–æ—Ä–æ–¥",
        "from_location": "–ê—ç—Ä–æ–ø–æ—Ä—Ç –ï–ª–∏–∑–æ–≤–æ",
        "to_location": "–¶–µ–Ω—Ç—Ä –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–∞",
        "distance_km": 30,
        "duration_minutes": 60,
        "price_per_person": 1500
      }
    ],
    "recommendations": [
      "–í–æ–∑—å–º–∏—Ç–µ —Ç–µ–ø–ª—É—é –æ–¥–µ–∂–¥—É –¥–∞–∂–µ –ª–µ—Ç–æ–º - –ø–æ–≥–æ–¥–∞ –∏–∑–º–µ–Ω—á–∏–≤–∞",
      "–ù–æ—Å–∏—Ç–µ —É–¥–æ–±–Ω—É—é —Ç—Ä–µ–∫–∫–∏–Ω–≥–æ–≤—É—é –æ–±—É–≤—å",
      "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–æ–∑—å–º–∏—Ç–µ —Ñ–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç –∏–ª–∏ —Ö–æ—Ä–æ—à–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω",
      "–û—Ñ–æ—Ä–º–∏—Ç–µ —Å—Ç—Ä–∞—Ö–æ–≤–∫—É –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞"
    ],
    "important_notes": [
      "–°–æ–±–ª—é–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –º–µ–¥–≤–µ–∂—å–∏—Ö –∑–æ–Ω–∞—Ö",
      "–ù–µ –æ—Ç—Ö–æ–¥–∏—Ç–µ –æ—Ç –≥—Ä—É–ø–ø—ã –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∞—Ö",
      "–ü—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –≥–∏–¥–∞ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å–æ –∑–¥–æ—Ä–æ–≤—å–µ–º",
      "–ü–æ–≥–æ–¥–∞ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è - –±—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã –∫ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–µ –ø–ª–∞–Ω–∞"
    ]
  }
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### 1. –ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö –Ω–∞ 5 –¥–Ω–µ–π

```bash
curl -X POST https://kamhub.com/api/trip/plan \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–•–æ—á—É –∞–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö –Ω–∞ 5 –¥–Ω–µ–π. –í–æ—Å—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–∞ –≤—É–ª–∫–∞–Ω—ã, —Ä—ã–±–∞–ª–∫–∞, —Ç–µ—Ä–º–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.",
    "days": 5,
    "budget": 60000,
    "interests": ["hiking", "fishing", "nature"]
  }'
```

### 2. –°–µ–º–µ–π–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞

```bash
curl -X POST https://kamhub.com/api/trip/plan \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–ü–ª–∞–Ω–∏—Ä—É–µ–º —Å–µ–º–µ–π–Ω—É—é –ø–æ–µ–∑–¥–∫—É —Å –¥–µ—Ç—å–º–∏ 7 –∏ 10 –ª–µ—Ç –Ω–∞ –Ω–µ–¥–µ–ª—é. –ù—É–∂–Ω—ã –Ω–µ—Å–ª–æ–∂–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–µ –∂–∏–ª—å–µ.",
    "days": 7,
    "groupSize": 4,
    "interests": ["family", "nature", "easy_hiking"]
  }'
```

### 3. –§–æ—Ç–æ-—Ç—É—Ä

```bash
curl -X POST https://kamhub.com/api/trip/plan \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–Ø —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ. –•–æ—á—É —Å–Ω—è—Ç—å –≤—É–ª–∫–∞–Ω—ã, –º–µ–¥–≤–µ–¥–µ–π, –ø—Ä–∏—Ä–æ–¥—É –ö–∞–º—á–∞—Ç–∫–∏ –∑–∞ 10 –¥–Ω–µ–π.",
    "days": 10,
    "budget": 150000,
    "interests": ["photography", "wildlife", "nature", "volcanoes"]
  }'
```

## –õ–æ–≥–∏–∫–∞ –ø–æ–¥–±–æ—Ä–∞

### –¢—É—Ä—ã

–ü–æ–¥–±–∏—Ä–∞—é—Ç—Å—è –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
- ‚úÖ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Ä–æ–≤–Ω—é –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥ ‚â• 3.5
- ‚úÖ –¶–µ–Ω–∞ –≤ —Ä–∞–º–∫–∞—Ö –±—é–¥–∂–µ—Ç–∞
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∏–Ω—Ç–µ—Ä–µ—Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –†–∞–∑–º–µ—â–µ–Ω–∏–µ

–ü–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
- ‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ –Ω–æ—á—å –≤ —Ä–∞–º–∫–∞—Ö –±—é–¥–∂–µ—Ç–∞
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥ ‚â• 3.5
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç –¥–ª—è –≥—Ä—É–ø–ø—ã
- ‚úÖ –£–¥–æ–±—Å—Ç–≤–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º

### –¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã

–†–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ (—Ñ–æ—Ä–º—É–ª–∞ Haversine)
- ‚úÖ –ü–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç:
  - –ü–µ—à–∫–æ–º: –¥–æ 2 –∫–º –≤ –≥–æ—Ä–æ–¥–µ, –¥–æ 5 –∫–º –≤ –ø—Ä–∏—Ä–æ–¥–µ
  - –¢–∞–∫—Å–∏: –æ—Ç 1 –∫–º (200‚ÇΩ + 50‚ÇΩ/–∫–º)
  - –¢—Ä–∞–Ω—Å—Ñ–µ—Ä: –æ—Ç 10 –∫–º (100‚ÇΩ/–∫–º)
  - –ê–≤—Ç–æ–±—É—Å: —Ç–æ–ª—å–∫–æ –≤ –≥–æ—Ä–æ–¥–µ
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤—Ä–µ–º—è –≤ –ø—É—Ç–∏
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–∏–ø –º–µ—Å—Ç–Ω–æ—Å—Ç–∏ (–≥–æ—Ä–æ–¥/–≥–æ—Ä—ã)

## –†–∞—Å—á–µ—Ç –ª–æ–≥–∏—Å—Ç–∏–∫–∏

### –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–æ—Ä–º—É–ª–∞ Haversine –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π –ø–æ —Å—Ñ–µ—Ä–µ:

```typescript
distance = 2R √ó arcsin(‚àö(sin¬≤(Œîlat/2) + cos(lat1) √ó cos(lat2) √ó sin¬≤(Œîlon/2)))
```

–ì–¥–µ:
- R = 6371 –∫–º (—Ä–∞–¥–∏—É—Å –ó–µ–º–ª–∏)
- Œîlat, Œîlon - —Ä–∞–∑–Ω–∏—Ü–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

### –¢–∏–ø—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

| –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç | –£—Å–ª–æ–≤–∏—è | –°–∫–æ—Ä–æ—Å—Ç—å | –°—Ç–æ–∏–º–æ—Å—Ç—å | –ö–æ–º—Ñ–æ—Ä—Ç |
|-----------|---------|----------|-----------|---------|
| –ü–µ—à–∫–æ–º | ‚â§ 2 –∫–º (–≥–æ—Ä–æ–¥) | 4 –∫–º/—á | 0‚ÇΩ | ‚≠ê‚≠ê‚≠ê |
| –ê–≤—Ç–æ–±—É—Å | –ì–æ—Ä–æ–¥, > 2 –∫–º | ~20 –∫–º/—á | 30‚ÇΩ | ‚≠ê‚≠ê |
| –¢–∞–∫—Å–∏ | ‚â• 1 –∫–º | ~25 –∫–º/—á | 200‚ÇΩ + 50‚ÇΩ/–∫–º | ‚≠ê‚≠ê‚≠ê‚≠ê |
| –¢—Ä–∞–Ω—Å—Ñ–µ—Ä | ‚â• 10 –∫–º | ~30 –∫–º/—á | 100‚ÇΩ/–∫–º | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| –õ–∏—á–Ω—ã–π –∞–≤—Ç–æ | ‚â• 5 –∫–º | ~30 –∫–º/—á | 15‚ÇΩ/–∫–º | ‚≠ê‚≠ê‚≠ê‚≠ê |
| –í–µ—Ä—Ç–æ–ª–µ—Ç | ‚â• 50 –∫–º (–≥–æ—Ä—ã) | ~120 –∫–º/—á | 1000‚ÇΩ/–∫–º | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |

## AI –ü—Ä–æ–º–ø—Ç—ã

### –ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞

AI –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ –∑–∞–ø—Ä–æ—Å–∞:
- –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã (–≤—É–ª–∫–∞–Ω—ã, –º–µ–¥–≤–µ–¥–∏, —Ä—ã–±–∞–ª–∫–∞, —Ç–µ—Ä–º–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏)
- –£—Ä–æ–≤–µ–Ω—å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
- –¢–∏–ø –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ (–æ–¥–∏–Ω–æ—á–∫–∞/–ø–∞—Ä–∞/—Å–µ–º—å—è/–≥—Ä—É–ø–ø–∞)
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (–ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è/–∫–æ–º—Ñ–æ—Ä—Ç/–±—é–¥–∂–µ—Ç/—ç–∫–æ–ª–æ–≥–∏—è)

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞

AI —Å–æ–∑–¥–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Å:
- –ü–æ–º–∏–Ω—É—Ç–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- –í—ã–±–æ—Ä–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç—É—Ä–æ–≤ –∏–∑ –ë–î (–ø–æ ID)
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ–º –∫–∞–∂–¥—É—é –Ω–æ—á—å
- –õ–æ–≥–∏—Å—Ç–∏–∫–æ–π –º–µ–∂–¥—É –≤—Å–µ–º–∏ —Ç–æ—á–∫–∞–º–∏
- –í—Ä–µ–º–µ–Ω–µ–º –Ω–∞ –æ—Ç–¥—ã—Ö, –ø–∏—Ç–∞–Ω–∏–µ, –ø–µ—Ä–µ–µ–∑–¥—ã

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã

```sql
-- –†–∞–∑–º–µ—â–µ–Ω–∏–µ
CREATE TABLE accommodations (
  id UUID PRIMARY KEY,
  name VARCHAR(255),
  type VARCHAR(50), -- hotel, hostel, apartment, etc.
  price_per_night_from DECIMAL(10,2),
  rating DECIMAL(3,2),
  amenities JSONB,
  coordinates JSONB,
  ...
);

-- –ù–æ–º–µ—Ä–∞
CREATE TABLE accommodation_rooms (
  id UUID PRIMARY KEY,
  accommodation_id UUID,
  room_type VARCHAR(50), -- single, double, suite, etc.
  max_guests INTEGER,
  price_per_night DECIMAL(10,2),
  ...
);

-- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
CREATE TABLE accommodation_bookings (
  id UUID PRIMARY KEY,
  user_id UUID,
  accommodation_id UUID,
  check_in_date DATE,
  check_out_date DATE,
  status VARCHAR(20),
  ...
);
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### Frontend –ø—Ä–∏–º–µ—Ä (React)

```typescript
import { useState } from 'react';

function TripPlannerForm() {
  const [plan, setPlan] = useState(null);
  const [loading, setLoading] = useState(false);

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);

    const response = await fetch('/api/trip/plan', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        query: e.target.query.value,
        days: parseInt(e.target.days.value),
        budget: parseInt(e.target.budget.value) || undefined,
      }),
    });

    const result = await response.json();
    if (result.success) {
      setPlan(result.data);
    }
    setLoading(false);
  };

  return (
    <div>
      <form onSubmit={handleSubmit}>
        <textarea name="query" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –ø–æ–µ–∑–¥–∫—É..." />
        <input name="days" type="number" min="1" max="30" placeholder="–î–Ω–µ–π" />
        <input name="budget" type="number" placeholder="–ë—é–¥–∂–µ—Ç (‚ÇΩ)" />
        <button type="submit" disabled={loading}>
          {loading ? '–ü–ª–∞–Ω–∏—Ä—É–µ–º...' : '–°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω'}
        </button>
      </form>

      {plan && (
        <div>
          <h2>–ü–ª–∞–Ω –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ {plan.summary.total_days} –¥–Ω–µ–π</h2>
          <p>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {plan.summary.total_cost}‚ÇΩ</p>
          
          {plan.days.map((day) => (
            <div key={day.day}>
              <h3>–î–µ–Ω—å {day.day}</h3>
              {day.activities.map((activity, idx) => (
                <div key={idx}>
                  <strong>{activity.time}</strong> - {activity.title}
                  {activity.logistics && (
                    <p>
                      üöó {activity.logistics.transport} 
                      ({activity.logistics.duration_minutes} –º–∏–Ω, 
                      {activity.logistics.distance_km} –∫–º)
                    </p>
                  )}
                </div>
              ))}
            </div>
          ))}
        </div>
      )}
    </div>
  );
}
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚ö° **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞**: 5-15 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø–ª–∞–Ω–∞ –Ω–∞ 7 –¥–Ω–µ–π
- üß† **AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã**: GROQ (–æ—Å–Ω–æ–≤–Ω–æ–π), DeepSeek (fallback)
- üíæ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢—É—Ä—ã, —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 1 —á–∞—Å
- üîÑ **Retry –ª–æ–≥–∏–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–∞–∫—Å–∏–º—É–º 30 –¥–Ω–µ–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- AI –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω—ã —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏
- –¶–µ–Ω—ã –∏ –Ω–∞–ª–∏—á–∏–µ —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –ü–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –º–æ–≥—É—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –º–∞—Ä—à—Ä—É—Ç

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

üöÄ **–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å**:
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ–µ–∑–¥–æ–∫
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—è–º–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ N –¥–Ω–µ–π –¥–æ –ø–æ–µ–∑–¥–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—É—Ä–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç –º–∞—Ä—à—Ä—É—Ç–∞ –≤ PDF/GPX
- –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –æ—Ñ–ª–∞–π–Ω-–∫–∞—Ä—Ç–∞–º–∏

---

**–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è Kamchatour Hub** üåã
