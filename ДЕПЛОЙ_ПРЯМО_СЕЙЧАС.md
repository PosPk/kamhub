# üöÄ –î–ï–ü–õ–û–ô –ü–†–Ø–ú–û –°–ï–ô–ß–ê–° - 5 –ú–ò–ù–£–¢

> **–°—Ç–∞—Ç—É—Å:** –ö–æ–¥ –≥–æ—Ç–æ–≤, build —É—Å–ø–µ—à–µ–Ω ‚úÖ  
> **–¶–µ–ª—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ Timeweb Cloud Apps

---

## ‚úÖ –ß–¢–û –ì–û–¢–û–í–û

```
‚úì –ö–æ–¥ –≤ GitHub (–ø–æ—Å–ª–µ–¥–Ω–∏–π push)
‚úì Build –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
‚úì –†–∞–∑–º–µ—Ä < 50MB (–±–µ–∑ Sentry)
‚úì UI —É–ª—É—á—à–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã
‚úì –í—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ
```

---

## üéØ 5 –®–ê–ì–û–í –î–û –î–ï–ü–õ–û–Ø

### –®–ê–ì 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub (2 –º–∏–Ω)

**–û—Ç–∫—Ä–æ–π—Ç–µ:** https://timeweb.cloud/my/apps/125051

**Settings ‚Üí Repository:**

```
‚úì Repository URL: https://github.com/PosPk/kamhub
‚úì Branch: main
‚úì Auto Deploy: ON
```

**–ù–∞–∂–º–∏—Ç–µ:** Save

---

### –®–ê–ì 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Build (1 –º–∏–Ω)

**Settings ‚Üí Build & Deploy:**

```yaml
Framework: Next.js

Build Command:
npm install --production=false && npm run build

Start Command:
npm start

Node Version: 20.x

Port: 3000

Root Directory: /
```

**–ù–∞–∂–º–∏—Ç–µ:** Save

---

### –®–ê–ì 3: –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL (2 –º–∏–Ω) - –ï–°–õ–ò –ï–©–Å –ù–ï–¢

**–û—Ç–∫—Ä–æ–π—Ç–µ:** https://timeweb.cloud/databases

**–ù–∞–∂–º–∏—Ç–µ:** –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```
–¢–∏–ø: PostgreSQL
–í–µ—Ä—Å–∏—è: 15
–ü–ª–∞–Ω: PostgreSQL-2 (300‚ÇΩ/–º–µ—Å)
–ò–º—è: kamchatour-db
```

**–°–æ–∑–¥–∞–π—Ç–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ CONNECTION STRING:**
```
postgresql://user:password@host:5432/database
```

**–ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê –ë–ï–°–ü–õ–ê–¢–ù–û:**
- https://supabase.com/ (500MB)
- https://neon.tech/ (500MB)

---

### –®–ê–ì 4: –î–æ–±–∞–≤—å—Ç–µ Environment Variables (2 –º–∏–Ω)

**Settings ‚Üí Environment Variables:**

**–ú–ò–ù–ò–ú–£–ú (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ):**

```env
# Database
DATABASE_URL=<–≤–∞—à_connection_string>
DATABASE_SSL=true
DATABASE_MAX_CONNECTIONS=10

# Security
JWT_SECRET=<–≤—ã–ø–æ–ª–Ω–∏—Ç–µ_–∫–æ–º–∞–Ω–¥—É_–Ω–∏–∂–µ>
JWT_EXPIRES_IN=7d

# App
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://kamchatour-125051.timeweb.cloud
PORT=3000
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT_SECRET:**

–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
```bash
# Mac/Linux:
openssl rand -base64 32

# Windows PowerShell:
[Convert]::ToBase64String((1..32|%{Get-Random -Max 256}))

# –ò–ª–∏ –æ–Ω–ª–∞–π–Ω:
https://generate-secret.vercel.app/32
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ JWT_SECRET

**–ù–∞–∂–º–∏—Ç–µ:** Save

---

### –®–ê–ì 5: DEPLOY! (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ~3-5 –º–∏–Ω)

**Deployments ‚Üí Trigger Deploy**

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–æ–∂–¥–∏—Ç–µ - Auto Deploy –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Å–∞–º!

**–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏:**
- Deployments ‚Üí Latest ‚Üí View Logs

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```
‚úì Pulling from GitHub
‚úì Installing dependencies
‚úì Building application  
‚úì Starting server
‚úì Deploy successful!
```

---

## ‚úÖ –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```
https://kamchatour-125051.timeweb.cloud
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UI –¥–µ–º–æ:

```
https://kamchatour-125051.timeweb.cloud/ui-demo
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Health:

```bash
curl https://kamchatour-125051.timeweb.cloud/api/health
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```json
{"success":true,"status":"healthy"}
```

---

## üóÉÔ∏è –ù–ê–°–¢–†–û–ô–ö–ê –ë–ê–ó–´ –î–ê–ù–ù–´–• (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è)

### –ß–µ—Ä–µ–∑ Timeweb Terminal:

**Runtime ‚Üí Terminal:**

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npm run migrate:up

# –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è PostgreSQL
psql $DATABASE_URL -c "CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";"
psql $DATABASE_URL -c "CREATE EXTENSION IF NOT EXISTS postgis;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã
psql $DATABASE_URL -c "\dt"
```

### –ò–ª–∏ —á–µ—Ä–µ–∑ SSH:

```bash
ssh app@kamchatour-125051.timeweb.cloud
# –í–≤–µ–¥–∏—Ç–µ –≤–∞—à TIMEWEB_SSH_PASSWORD

cd /app
npm run migrate:up
```

---

## üÜò –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –¢–ê–ö

### Build failed?

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- –õ–æ–≥–∏ –≤ Deployments ‚Üí Latest ‚Üí Logs
- Build Command –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
- Node Version = 20.x

### Database connection error?

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é)
- PostgreSQL –∑–∞–ø—É—â–µ–Ω
- DATABASE_SSL=true —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

### Application not responding?

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- Runtime ‚Üí Logs
- PORT=3000 –≤ env vars
- Restart Application

---

## ‚ö° –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´

### –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.production`:

```env
DATABASE_URL="postgresql://..."
DATABASE_SSL=true
DATABASE_MAX_CONNECTIONS=10
JWT_SECRET="<–≤–∞—à_—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–∫–ª—é—á>"
JWT_EXPIRES_IN=7d
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://kamchatour-125051.timeweb.cloud
PORT=3000
```

–ó–∞—Ç–µ–º —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Timeweb UI.

---

## üìä –ß–ï–ö–õ–ò–°–¢

```
[ ] GitHub –ø–æ–¥–∫–ª—é—á–µ–Ω
[ ] Build & Deploy –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
[ ] PostgreSQL —Å–æ–∑–¥–∞–Ω
[ ] CONNECTION STRING —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
[ ] JWT_SECRET —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
[ ] –í—Å–µ Environment Variables –¥–æ–±–∞–≤–ª–µ–Ω—ã
[ ] Deploy –∑–∞–ø—É—â–µ–Ω
[ ] –õ–æ–≥–∏ —á–∏—Å—Ç—ã–µ
[ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
[ ] /api/health –æ—Ç–≤–µ—á–∞–µ—Ç
[ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
```

---

## üé® –ì–û–¢–û–í–û –ö –î–ò–ó–ê–ô–ù–£!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

```
‚úÖ https://kamchatour-125051.timeweb.cloud - —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ https://kamchatour-125051.timeweb.cloud/ui-demo - –¥–µ–º–æ UI
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
‚úÖ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
```

**–ú–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –¥–∏–∑–∞–π–Ω–æ–º!** üé®

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—å—Å—è –ø—Ä–∏ push –≤ GitHub.

---

## üí° WORKFLOW –î–õ–Ø –î–ò–ó–ê–ô–ù–ê

```bash
# 1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç–µ –¥–∏–∑–∞–π–Ω –ª–æ–∫–∞–ª—å–Ω–æ
npm run dev
# –°–º–æ—Ç—Ä–∏—Ç–µ: http://localhost:3002

# 2. –ö–æ–º–º–∏—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "design: —É–ª—É—á—à–µ–Ω –¥–∏–∑–∞–π–Ω –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã"
git push origin main

# 3. Auto Deploy –Ω–∞ Timeweb (3-5 –º–∏–Ω)
# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç–µ: https://kamchatour-125051.timeweb.cloud

# –ì–æ—Ç–æ–≤–æ! üöÄ
```

---

**–í—Ä–µ–º—è –¥–æ –∑–∞–ø—É—Å–∫–∞:** ~10 –º–∏–Ω—É—Ç  
**–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –®–∞–≥–∞ 1!** üöÄ

---

**–ê–≤—Ç–æ—Ä:** Cursor AI Agent  
**–î–∞—Ç–∞:** 30 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** Ready to deploy ‚úÖ
