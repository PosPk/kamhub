# üöÄ –î–ï–ü–õ–û–ô –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

**–î–∞—Ç–∞:** 2025-11-04  
**–¶–µ–ª—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ì–û–¢–û–í–ù–û–°–¢–ò

### –ö–æ–¥
- ‚úÖ TypeScript: **0 –æ—à–∏–±–æ–∫**
- ‚úÖ ESLint: **0 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫** (13 warnings - –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)
- ‚úÖ Build: **–ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ**
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (—Ç—É—Ä–∏—Å—Ç + –±–∏–∑–Ω–µ—Å)
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏
- ‚úÖ –¢—É—Ä—ã + –¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã (100%)
- ‚úÖ –û–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ –¥–∞—à–±–æ—Ä–¥—ã
- ‚úÖ –°–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è —Ç–µ–º—ã
- ‚úÖ SVG –∏–∫–æ–Ω–∫–∏
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä (4 —Ä–æ–ª–∏)
- ‚úÖ 3 –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç (100+ –ø—É–Ω–∫—Ç–æ–≤)
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## üéØ –í–ê–†–ò–ê–ù–¢–´ –î–ï–ü–õ–û–Ø

### –í–∞—Ä–∏–∞–Ω—Ç 1: Vercel (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞) ‚ö°

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –î–µ–ø–ª–æ–π –∑–∞ 5 –º–∏–Ω—É—Ç
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π CI/CD
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–π CDN
- ‚úÖ –ù–µ –Ω—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- MVP –∑–∞–ø—É—Å–∫
- –î–æ 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ù—É–∂–Ω–∞ –≤–Ω–µ—à–Ω—è—è PostgreSQL (Timeweb, Supabase, Neon)
- Serverless —Ñ—É–Ω–∫—Ü–∏–∏ (–µ—Å—Ç—å –ª–∏–º–∏—Ç—ã)

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Timeweb Cloud (–¥–ª—è production)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ PostgreSQL –≤–∫–ª—é—á–µ–Ω
- ‚úÖ VPS —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- Production –∑–∞–ø—É—Å–∫
- –ë–æ–ª—å—à–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–¢—Ä–µ–±—É–µ—Ç:**
- –ù–∞—Å—Ç—Ä–æ–π–∫—É VPS
- Docker
- Nginx
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –æ—Ç–ª–∞–¥–∫–∞
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

---

## ‚ö° –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢: Vercel + Supabase (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å PostgreSQL –Ω–∞ Supabase (2 –º–∏–Ω)

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://supabase.com
2. Sign up / Sign in
3. New Project
   - Name: `kamchatour-test`
   - Database Password: (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å!)
   - Region: Southeast Asia (–±–ª–∏–∂–µ –∫ –†–æ—Å—Å–∏–∏)
4. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–æ–∑–¥–∞–Ω–∏—è (~2 –º–∏–Ω)
5. Settings ‚Üí Database ‚Üí Connection string
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `Connection string` –≤ —Ñ–æ—Ä–º–∞—Ç–µ URI

**–ü–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞:**
```
postgresql://postgres:[PASSWORD]@db.xxx.supabase.co:5432/postgres
```

### –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É –ë–î (1 –º–∏–Ω)

```bash
# –í Supabase SQL Editor –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
# 1. lib/database/schema.sql
# 2. lib/database/tour_system_schema.sql
# 3. lib/database/user_roles_migration.sql

# –ò–ª–∏ —á–µ—Ä–µ–∑ psql:
psql "postgresql://postgres:[PASSWORD]@db.xxx.supabase.co:5432/postgres" \
  -f lib/database/schema.sql
```

### –®–∞–≥ 3: –î–µ–ø–ª–æ–π –Ω–∞ Vercel (2 –º–∏–Ω)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Vercel CLI
npm i -g vercel

# 2. –õ–æ–≥–∏–Ω
vercel login

# 3. –î–µ–ø–ª–æ–π
vercel --prod

# –°–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
# - Set up and deploy? Yes
# - Which scope? (–≤–∞—à –∞–∫–∫–∞—É–Ω—Ç)
# - Link to existing project? No
# - What's your project's name? kamchatour-hub
# - In which directory? ./
# - Override settings? No
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (1 –º–∏–Ω)

–í Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables:

```env
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.xxx.supabase.co:5432/postgres
DATABASE_SSL=true
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://kamchatour-hub.vercel.app
```

### –®–∞–≥ 5: –†–µ–¥–µ–ø–ª–æ–π

```bash
vercel --prod
```

### –®–∞–≥ 6: –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
tsx scripts/create-test-partner.ts
```

**‚úÖ –ì–û–¢–û–í–û! –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ https://kamchatour-hub.vercel.app**

---

## üì¶ –î–ï–¢–ê–õ–¨–ù–´–ô –î–ï–ü–õ–û–ô: Timeweb Cloud

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Timeweb VPS (–æ—Ç 2GB RAM)
- Ubuntu 22.04 –∏–ª–∏ CentOS
- SSH –¥–æ—Å—Ç—É–ø
- –î–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@your-server-ip
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è

```bash
# –°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç
wget https://raw.githubusercontent.com/YOUR-REPO/kamhub/main/deploy-timeweb.sh

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x deploy-timeweb.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
./deploy-timeweb.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Node.js 20
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç PostgreSQL 15
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Nginx
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç SSL (Let's Encrypt)
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –ë–î
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –°–æ–±–µ—Ä–µ—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç PM2 (–∞–≤—Ç–æ-—Ä–µ—Å—Ç–∞—Ä—Ç)

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```bash
cd /var/www/kamhub
nano .env.production
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è:
```env
DATABASE_URL=postgresql://kamhub:PASSWORD@localhost:5432/kamhub
DATABASE_SSL=false
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com
PORT=3000
```

### –®–∞–≥ 4: –†–µ—Å—Ç–∞—Ä—Ç

```bash
pm2 restart kamhub
```

**‚úÖ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ https://your-domain.com**

---

## üîê –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=postgresql://user:pass@host:5432/db
DATABASE_SSL=true  # false –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com
```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)

```env
# AI (–¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π)
GROQ_API_KEY=gsk_xxx  # –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞ groq.com
OPENROUTER_API_KEY=sk-or-xxx  # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

# –ü–ª–∞—Ç–µ–∂–∏ (–¥–ª—è –ø—Ä–∏–µ–º–∞ –æ–ø–ª–∞—Ç—ã)
CLOUDPAYMENTS_PUBLIC_ID=pk_xxx
CLOUDPAYMENTS_API_SECRET=xxx

# –ö–∞—Ä—Ç—ã (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–π)
YANDEX_MAPS_API_KEY=xxx

# Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your@gmail.com
SMTP_PASSWORD=app-password
SMTP_FROM=noreply@kamchatour.ru

# SMS (–¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π)
SMS_API_KEY=xxx  # Twilio –∏–ª–∏ –∞–Ω–∞–ª–æ–≥

# Telegram –±–æ—Ç
TELEGRAM_BOT_TOKEN=xxx
```

---

## üìä –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∞–π—Ç
curl https://your-domain.com

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API
curl https://your-domain.com/api/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î
curl https://your-domain.com/api/health/db
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "status": "ok",
  "database": "connected",
  "timestamp": "2025-11-04T..."
}
```

### 2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç**
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
psql $DATABASE_URL

# –í—ã–ø–æ–ª–Ω–∏—Ç—å
\i scripts/create-test-partner.sql
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ UI**
1. –û—Ç–∫—Ä—ã—Ç—å `/auth/register-business`
2. –í—ã–±—Ä–∞—Ç—å 4 —Ä–æ–ª–∏:
   - –¢—É—Ä–æ–ø–µ—Ä–∞—Ç–æ—Ä
   - –í–æ–¥–∏—Ç–µ–ª—å
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ
   - –ü–æ—Å—Ç–∞–≤—â–∏–∫
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:
   - Email: kamchatka.all@test.ru
   - –ö–æ–º–ø–∞–Ω–∏—è: –ö–∞–º—á–∞—Ç–∫–∞ –í—Å—ë –í–∫–ª—é—á–µ–Ω–æ
   - –ü–∞—Ä–æ–ª—å: test123456

### 3. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –ø–∞—Ä—Ç–Ω–µ—Ä–∞

–ß–µ—Ä–µ–∑ –¥–∞—à–±–æ—Ä–¥—ã –¥–æ–±–∞–≤–∏—Ç—å:
- **–¢—É—Ä—ã** (3 —à—Ç) ‚Üí `/hub/tour-operator`
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç** (–£–ê–ó) ‚Üí `/hub/transfer-operator`
- **–ë–∞–∑–∞ –æ—Ç–¥—ã—Ö–∞** (10 –Ω–æ–º–µ—Ä–æ–≤) ‚Üí `/hub/operator`
- **–°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ** (5 –≤–∏–¥–æ–≤) ‚Üí `/hub/operator`

### 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ç—É—Ä–∏—Å—Ç–∞:
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí `/auth/register-tourist`
   - Email: tourist.test@mail.ru

2. –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä:
   - –í—ã–±—Ä–∞—Ç—å "–ê–≤–∞—á–∏–Ω—Å–∫–∏–π –≤—É–ª–∫–∞–Ω"
   - 4 —á–µ–ª–æ–≤–µ–∫–∞
   - –û–ø–ª–∞—Ç–∏—Ç—å (—Ç–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω CloudPayments)

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞:
   - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—è–≤–∏–ª–æ—Å—å
   - –†–µ—Å—É—Ä—Å—ã –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã
   - –§–∏–Ω–∞–Ω—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã

---

## üß™ –ù–ê–ß–ê–õ–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### 1. –í–æ–π—Ç–∏ –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä

```
URL: https://your-domain.com/auth/login
Email: kamchatka.all@test.ru
Password: test123456
```

### 2. –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–ª–∞–Ω—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç: `–ü–õ–ê–ù_–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø_–ü–ê–†–¢–ù–ï–†.md`

**–ü—Ä–æ—Ü–µ—Å—Å 1:** –ü—Ä–æ—Å—Ç–æ–π —Ç—É—Ä (–≤—Å–µ —Å–≤–æ–µ)
- –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω

**–ü—Ä–æ—Ü–µ—Å—Å 2:** –ë–æ–ª—å—à–∞—è –≥—Ä—É–ø–ø–∞ (–Ω—É–∂–µ–Ω –ø–∞—Ä—Ç–Ω–µ—Ä)
- 20 —á–µ–ª–æ–≤–µ–∫ ‚Üí —Å–≤–æ–π –£–ê–ó –º–∞–ª
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- –ë—Ä–æ–Ω–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–±—É—Å
- ‚úÖ –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω

**–ü—Ä–æ—Ü–µ—Å—Å 3:** –ú–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω—ã–π —Ç—É—Ä
- 3 –¥–Ω—è —Å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º
- –ö–æ–º–±–æ: —Å–≤–æ–π + –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
- ‚úÖ –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω

---

## üêõ –¢–†–ê–ë–õ–®–£–¢–ò–ù–ì

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
pm2 status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs kamhub

# –†–µ—Å—Ç–∞—Ä—Ç
pm2 restart kamhub
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PostgreSQL
systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
psql $DATABASE_URL

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
psql -c "SELECT current_user, current_database();"
```

### –ü—Ä–æ–±–ª–µ–º–∞: 500 Internal Server Error

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs kamhub --lines 50

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cat .env.production

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
npm run build
pm2 restart kamhub
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–ª–∏—Ü—ã users
psql $DATABASE_URL -c "SELECT * FROM users LIMIT 1;"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–Ω–æ–≤–æ
psql $DATABASE_URL -f lib/database/schema.sql
psql $DATABASE_URL -f lib/database/user_roles_migration.sql
```

---

## üìà –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# Application logs
pm2 logs kamhub

# Nginx access logs
tail -f /var/log/nginx/access.log

# Nginx error logs
tail -f /var/log/nginx/error.log

# PostgreSQL logs
tail -f /var/log/postgresql/postgresql-15-main.log
```

### –ú–µ—Ç—Ä–∏–∫–∏

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
pm2 monit

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Nginx
cat /var/log/nginx/access.log | wc -l  # –∫–æ–ª-–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î
psql $DATABASE_URL -c "
  SELECT schemaname, tablename, n_tup_ins, n_tup_upd 
  FROM pg_stat_user_tables;
"
```

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ (–í–ê–ñ–ù–û!)

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –ë–î**
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å
openssl rand -base64 32

# –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î
psql -c "ALTER USER kamhub WITH PASSWORD '–Ω–æ–≤—ã–π-–ø–∞—Ä–æ–ª—å';"
```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Firewall**
```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ 80, 443, 22
ufw allow 22/tcp
ufw allow 80/tcp
ufw allow 443/tcp
ufw enable
```

3. **–û–±–Ω–æ–≤–∏—Ç—å JWT_SECRET**
```env
JWT_SECRET=$(openssl rand -base64 32)
```

4. **–í–∫–ª—é—á–∏—Ç—å HTTPS**
```bash
# –ß–µ—Ä–µ–∑ Certbot (Let's Encrypt)
certbot --nginx -d your-domain.com
```

5. **–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å SSH**
```bash
# –¢–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É, –±–µ–∑ –ø–∞—Ä–æ–ª—è
nano /etc/ssh/sshd_config
# PasswordAuthentication no
systemctl restart sshd
```

---

## üìû QUICK COMMANDS

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
```bash
pm2 start kamhub       # –ó–∞–ø—É—Å–∫
pm2 stop kamhub        # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 restart kamhub     # –†–µ—Å—Ç–∞—Ä—Ç
pm2 logs kamhub        # –õ–æ–≥–∏
pm2 delete kamhub      # –£–¥–∞–ª–∏—Ç—å
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
psql $DATABASE_URL

# –ë—ç–∫–∞–ø
pg_dump $DATABASE_URL > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
psql $DATABASE_URL < backup.sql

# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
tsx scripts/create-test-partner.ts
```

### Git –¥–µ–ø–ª–æ–π (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
```bash
cd /var/www/kamhub
git pull origin main
npm install
npm run build
pm2 restart kamhub
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –î–ï–ü–õ–û–Ø

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- [ ] –ö–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã
- [ ] –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)

### –î–µ–ø–ª–æ–π
- [ ] –í—ã–±—Ä–∞–Ω —Å–ø–æ—Å–æ–± –¥–µ–ø–ª–æ—è (Vercel / Timeweb)
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞
- [ ] –°—Ö–µ–º–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ
- [ ] SSL –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- [ ] –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] API –æ—Ç–≤–µ—á–∞–µ—Ç (/api/health)
- [ ] –ë–î –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä —Å–æ–∑–¥–∞–Ω
- [ ] –†–µ—Å—É—Ä—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–∞—à–±–æ—Ä–¥—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

**‚úÖ –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï VERCEL + SUPABASE**

**–ü–æ—á–µ–º—É:**
- –î–µ–ø–ª–æ–π –∑–∞ 5 –º–∏–Ω—É—Ç
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è MVP
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π CDN

**–ü–æ—Ç–æ–º –º–æ–∂–Ω–æ:**
- –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Timeweb –¥–ª—è production
- –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é –ë–î
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ó–∞–¥–µ–ø–ª–æ–∏—Ç—å** (–≤—ã–±—Ä–∞—Ç—å —Å–ø–æ—Å–æ–± –≤—ã—à–µ)
2. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞**
3. **–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (–ø–æ –ø–ª–∞–Ω—É)
4. **–°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å**
5. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥–∏**
6. **Production –∑–∞–ø—É—Å–∫!**

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-04  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –í—ã–±—Ä–∞—Ç—å Vercel –∏–ª–∏ Timeweb –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å!
