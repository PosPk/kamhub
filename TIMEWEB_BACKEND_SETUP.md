# üéØ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ –î–ï–ü–õ–û–Ø KAMHUB

**–î–∞—Ç–∞:** 30 –æ–∫—Ç—è–±—Ä—è 2025 04:20  
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–¢–†–ï–ë–£–ï–¢–°–Ø –ü–ï–†–ï–°–û–ó–î–ê–ù–ò–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø**

---

## üî• –ì–õ–ê–í–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê!

### **–¢–µ–∫—É—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```
–¢–∏–ø: Frontend (Static files)
Mode: Static Export (/out directory)
Status: ‚ùå –û—Ç–¥–∞—ë—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (content-length: 0)
```

### **–ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```
–¢–∏–ø: Next.js SSR + API Routes
–¢—Ä–µ–±—É–µ—Ç: Node.js —Å–µ—Ä–≤–µ—Ä (npm start)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç: /api/* routes (–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ static export!)
```

---

## ‚ùå –ü–û–ß–ï–ú–£ –ù–ï –†–ê–ë–û–¢–ê–ï–¢:

1. **Timeweb Apps (Frontend)** = —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
2. **KamHub** = –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π Node.js —Å–µ—Ä–≤–µ—Ä + API routes
3. **Static export –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω** —Ç.–∫. –µ—Å—Ç—å API routes —Å `dynamic = "force-dynamic"`

---

## ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï: TIMEWEB VDS

Timeweb Cloud Apps **–ù–ï –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–¢** Next.js SSR —Å API routes.

–ù—É–∂–µ–Ω **Timeweb VDS** (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä):

---

## üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –î–ï–ü–õ–û–ô –ù–ê TIMEWEB VDS

### **–®–ê–ì 1: –°–æ–∑–¥–∞–Ω–∏–µ VDS**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ:** https://timeweb.cloud/my/servers/create

2. **–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```
–û–°: Ubuntu 22.04
CPU: 1 —è–¥—Ä–æ
RAM: 1 GB (–º–∏–Ω–∏–º—É–º) –∏–ª–∏ 2 GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–î–∏—Å–∫: 10 GB
–†–µ–≥–∏–æ–Ω: –†–æ—Å—Å–∏—è (ru-1)
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
```
Hostname: kamhub-production
–ü–∞—Ä–æ–ª—å root: [–≤–∞—à –Ω–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å]
SSH –∫–ª—é—á: [–¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏]
```

4. **–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä** ‚Üí –ñ–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã

---

### **–®–ê–ì 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É**

```bash
# –ü–æ–ª—É—á–∏—Ç–µ IP –∞–¥—Ä–µ—Å –∏–∑ –ø–∞–Ω–µ–ª–∏ Timeweb
ssh root@YOUR_SERVER_IP
```

---

### **–®–ê–ì 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç**

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
curl -fsSL https://raw.githubusercontent.com/PosPk/kamhub/main/auto-deploy-kamchatour.sh | bash
```

**–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Node.js 20
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç PostgreSQL 15
- ‚úÖ –°–∫–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç Nginx
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç PM2
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

### **–®–ê–ì 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:

```bash
cd /opt/kamchatour
nano .env.local
```

**–î–æ–±–∞–≤—å—Ç–µ:**
```env
# Database (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∫—Ä–∏–ø—Ç–æ–º)
DATABASE_URL=postgresql://kamchatour:your_password@localhost:5432/kamchatour

# JWT Secrets
JWT_SECRET=–≤–∞—à_—Å–ª—É—á–∞–π–Ω—ã–π_—Å–µ–∫—Ä–µ—Ç_32_—Å–∏–º–≤–æ–ª–∞
NEXTAUTH_SECRET=–¥—Ä—É–≥–æ–π_—Å–ª—É—á–∞–π–Ω—ã–π_—Å–µ–∫—Ä–µ—Ç_32_—Å–∏–º–≤–æ–ª–∞

# API Keys (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
GROQ_API_KEY=–≤–∞—à_–∫–ª—é—á_groq
YANDEX_MAPS_API_KEY=–≤–∞—à_–∫–ª—é—á_yandex

# URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
NEXTAUTH_URL=http://YOUR_SERVER_IP:3000
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
pm2 restart kamchatour
pm2 save
```

---

### **–®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä–∫–∞**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pm2 status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
pm2 logs kamchatour

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx
sudo systemctl status nginx

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
sudo -u postgres psql -d kamchatour -c "SELECT 1;"
```

**–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
```
http://YOUR_SERVER_IP
```

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï: Apps vs VDS

### **Timeweb Cloud Apps (Frontend)**
‚ùå **–ù–ï –ü–û–î–•–û–î–ò–¢** –¥–ª—è KamHub
- –¢–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
- –ù–µ—Ç Node.js —Å–µ—Ä–≤–µ—Ä–∞
- –ù–µ—Ç API routes
- –ù–µ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–¶–µ–Ω–∞:** 1‚ÇΩ/–º–µ—Å (–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!)

### **Timeweb VDS** ‚úÖ –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ü–û–î–•–û–î–ò–¢**
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- Node.js —Å–µ—Ä–≤–µ—Ä
- API routes —Ä–∞–±–æ—Ç–∞—é—Ç
- PostgreSQL –≤—Å—Ç—Ä–æ–µ–Ω–∞
- SSL, –¥–æ–º–µ–Ω—ã, email
- **–¶–µ–Ω–∞:** ~400‚ÇΩ/–º–µ—Å (1GB RAM)

---

## üõ† –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–º–æ—Ç—Ä–∏—Ç–µ:
- **`scripts/setup-timeweb-server.sh`** - –ø–æ–¥—Ä–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- **`READY_TO_DEPLOY.md`** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üîó –°–°–´–õ–ö–ò:

- **–°–æ–∑–¥–∞–Ω–∏–µ VDS:** https://timeweb.cloud/my/servers/create
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/PosPk/kamhub
- **–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** `auto-deploy-kamchatour.sh`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `READY_TO_DEPLOY.md`

---

## üí∞ –°–¢–û–ò–ú–û–°–¢–¨:

### **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```
VDS: 1 CPU, 2GB RAM, 10GB Disk
–¶–µ–Ω–∞: ~500‚ÇΩ/–º–µ—Å
–î–æ–º–µ–Ω: 200‚ÇΩ/–≥–æ–¥ (.ru)
SSL: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (Let's Encrypt)
```

### **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```
VDS: 1 CPU, 1GB RAM, 10GB Disk
–¶–µ–Ω–∞: ~350‚ÇΩ/–º–µ—Å
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê:

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å:
1. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ IP –∞–¥—Ä–µ—Å VDS
2. –î–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ SSH
3. –Ø –Ω–∞—Å—Ç—Ä–æ—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ API

---

## ‚úÖ –ò–¢–û–ì:

### **–ü—Ä–æ–±–ª–µ–º–∞:**
Timeweb Cloud Apps (Frontend) –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Next.js SSR + API routes.

### **–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Timeweb VDS —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π.

### **–î–µ–π—Å—Ç–≤–∏—è:**
1. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ VDS –Ω–∞ https://timeweb.cloud/my/servers/create
2. ‚úÖ –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ SSH
3. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ auto-deploy —Å–∫—Ä–∏–ø—Ç
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env
5. ‚úÖ –ì–æ—Ç–æ–≤–æ! üöÄ

---

**–î–ï–ü–õ–û–ô –ó–ê–ô–ú–Å–¢ 10 –ú–ò–ù–£–¢ –° VDS!** üéâ
